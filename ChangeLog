2012-01-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:

	Release 2012.01

2012-01-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add options to linaro-android-media-create to pass in additional boot args.

2012-01-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Add the new code to l-a-m-c as well.

2012-01-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Call add_boot_args() from add_boot_args_from_file().

2012-01-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add reading boot args from file.

2012-01-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Add command line option to add to boot args.

2012-01-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Remove assignment to unused variable, just to fix the test suite.

2012-01-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add add_boot_args() to BoardConfig.

2012-01-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Make Android sdcard partition always FAT32.

2011-12-21  Jon Medhurst (Tixy)  <jon.medhurst@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Make Android sdcard partition always FAT32.

2011-12-26  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	[r=mabac] Run sfdisk -l in loop to wait for partition to settle after parted in function create_partitions.

2011-12-26  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Adjust error output to use with logger

2011-12-23  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fixes pep8 style

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/__version__.py:
	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Resolved conflicts

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Added tests for suggested fix.

2011-12-13  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Proposed fix. Wait in loop for disk being freed and run sfdisk after that.

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro-hwpack-install:

	[r=mabac] Unset TMPDIR variable in linaro-hwpack-install. Fixes bug 834803

2011-12-06  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro-hwpack-install:

	Added warning message to the user about unsetting TMPDIR variable. In chroot environment it likely doesn't exist and can lead to error messages

2011-12-02  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro-hwpack-install:

	Unset users TMPDIR variable

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	[r=mabac] Add the ability to check for appearance of partitions to the UDisks service for the device being partitioned. Fixes bug 717129

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/__version__.py:
	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Resolving conflicts

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Removed unnecessary print

2011-12-22  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Added tests for fix

2011-12-13  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Moved fix for bug 718665 to it's own branch since issue couldn't be reproduced and as a result verified easily.

2011-12-13  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Incorporated fix from Guilhermes branch lp:~salgado/linaro-image-tools/717129

2011-12-08  Georgy Redkozubov  <georgy.redkozubov@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Added loop for wating partitions got created by the udev in function _get_device_file_for_partition_number. Added loop to wait for partition to settle after parted in function create_partitions.

2011-12-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Remove console=tty0 on mx53loco bootargs. (LP: #900460)

2011-12-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add tests for Android mx5 board config.

2011-12-19  Fathi Boudra  <fathi.boudra@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Remove console=tty0 on mx53loco bootargs. (Closes: LP #900460

2011-12-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Updated fetch_image_settings.yaml to pick up 11.12 release

2011-12-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Updated fetch_image_settings.yaml to pick up 11.12 release

2011-12-15  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/__version__.py:

	Post-release version bump to 2011.12.1

2011-12-15  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/__version__.py:

	Release 2011.12

2011-12-15  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	[r=salgado] Do not pass console=tty0 in the bootargs for PandaBoard AndroidConfig. Fixes #900460.

2011-12-15  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/media_create/android_boards.py:

	Drop console=tty0 from PandaBoard AndroidConfig.

2011-12-15  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make the test for panda-android not include console=tty0 option.

2011-12-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add support for i.MX6Q SabreLite board to linaro-media-create.

2011-12-14  Eric Miao  <eric.miao@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add support for Freescale i.MX6Q SabreLite board

2011-12-08  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Increase the size of the system partition for android images from 256MB to 512MB

2011-12-05  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Increase the size of the system partition for android images from 256MB to 512MB

2011-12-02  Mattias Backman  <mattias.backman@linaro.org>

	* README:
	* linaro_image_tools/utils.py:

	Remove runtime dependency for testtools by copying the try_import function from testtools.

2011-11-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/utils.py:

	Add license and origin information for try_import.

2011-11-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/utils.py:

	Steal try_import from testtools to avoid having testtools as a production dependency.

2011-11-29  Georgy Redkozubov  <gesha@dev.rtsoft.ru>

	* README:

	[r=danilo] Add python-yaml to the list of dependencies in the README file. Fixes bug 897577.

2011-11-29  Georgy Redkozubov  <gesha@dev.rtsoft.ru>

	* README:

	Added python-yaml to the dependency list

2011-11-23  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~tixy/linaro-image-tools/vexpress-uboot-addresses-fix; fixes load
	addresses on vexpress.

2011-11-23  Jon Medhurst (Tixy)  <jon.medhurst@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix bad addresses in vexpress U-Boot script
	
	Having load_addr == kernel_addr will always crash on boot because U-Boot
	will think the kernel is XIP and won't relocate it, leading to it trying
	to execute the image header as code.

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Add the 11.11 release to fetch_image_settings.yaml

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Add the 11.11 release to fetch_image_settings.yaml

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* README:

	Change the README to list python-testtools as a runtime dep and apt-utils as a test-suite dep

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* README:

	Change the README to list python-testtools as a runtime dep and apt-utils as a test-suite dep

2011-11-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Allow empty lines in Snowball startfiles config file.

2011-11-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Handle whitespace in Snowball startfiles config file.

2011-11-03  Leonid  <leonid.kudryavtsev@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Suggested fix NOT verified

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* README:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/utils.py:

	Use testtools.try_import for CommandNotFound; that way our pyflakes test can expect a clean output

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* README:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/utils.py:

	Use testtools.try_import for CommandNotFound; that way our pyflakes test can expect a clean output

2011-11-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	In l-m-c, stop before trying to install hwpacks if we detect that we can't execute anything in the chroot

2011-11-17  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change a test to not hard-code a value

2011-11-16  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	In l-m-c, stop before trying to install hwpacks if we detect that we can't execute anything in the chroot

2011-11-17  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/__version__.py:

	Post-release version bump to 2011.11.1

2011-11-17  Danilo Segan  <danilo@canonical.com>

	* linaro_image_tools/__version__.py:

	Release 2011.11

2011-11-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add VExpress support in linaro-android-media-create.

2011-11-16  Jon Medhurst (Tixy)  <jon.medhurst@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add vexpress-a9 test case for android.

2011-11-16  Jon Medhurst (Tixy)  <jon.medhurst@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add vexpress-a9 platform to linaro-android-media-create
	
	This change also adds generation of 'boot.scr' as the vexpress U-Boot
	will shortly be changed to read this.

2011-11-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Change description of unsupported Samsung boards.

2011-10-24  Andy Doan  <andy.doan@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	S5VP310 support has been dropped to focus on Origen
	
	Denote this in our UIs to let users know

2011-11-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix unit tests so they don't execute commands using sudo.

2011-11-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Stop test suite from moving files using sudo.

2011-11-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix Snowball Android boot parameters and support the Snowball's special uboot.

2011-11-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Clean up boot args and fix unit test to run with the changes. Also add one test for SnowballSdConfig that was missing.

2011-11-09  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Fix snowball_emmc support as well (not just snowball_sd)

2011-11-09  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:

	More adaptions to snowball's "unique" uboot

2011-11-09  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Fix syntax error

2011-11-09  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:

	Adapt to Android on Snowball using a custom uboot that takes
	"fat load" instead of "fatload"

2011-11-09  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Attempt to fix boot args for Android on Snowball SD

2011-11-14  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/hwpack/packages.py:

	Add a workaround for bug 885895, while it's not fixed in python-apt

2011-11-14  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/hwpack/packages.py:

	Add a workaround for bug 885895

2011-10-28  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Merging in updates to where xdg library is imported

2011-10-28  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Restore global xdg import.

2011-10-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-image-indexer:
	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:

	Merging in indexer update.

2011-10-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-image-indexer:

	Updated paths to match the server, not local development.

2011-10-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Updated settings to give more human names to releases.

2011-10-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/__version__.py:
	* do-release:
	* linaro-android-media-create:
	* linaro-fetch-image-ui:
	* linaro-hwpack-create:
	* linaro-hwpack-replace:
	* linaro-image-indexer:
	* linaro-media-create:
	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:
	* setup.py:

	Updated indexer to cope with new layout of releases.linaro.org and pick up Oneiric snapshots.
	Due to lots of renaming the GUI isn't translating distro names (linaro-o-ubuntu-desktop isn't translated into Ubuntu Desktop), but we will have to live with that for the moment.

2011-10-27  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:
	* do-release:
	* linaro-android-media-create:
	* linaro-fetch-image-ui:
	* linaro-hwpack-create:
	* linaro-hwpack-replace:
	* linaro-media-create:
	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:
	* setup.py:

	Merge trunk.

2011-10-27  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-image-indexer:
	* linaro_image_tools/fetch_image.py:

	Clarify an assert, enable logging and experiment with getting both old and new structures.

2011-10-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-image-indexer:

	Remove code that was commented out.

2011-08-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-image-indexer:
	* linaro_image_tools/fetch_image.py:

	Proper handling of the new way of telling the indexer to index a directory:
	
	crawler.add_directory_parse_list(
	RELEASES_WWW_DOCUMENT_ROOT,
	RELEASE_URL,
	
	(["hwpack"], ["/platform/"]),
	This tells the indexer to look for a URL that matches the string "hwpack", but doesn't match "/platform/".
	
	["platform", "build", "hardware"],
	These are the columns to put in the database
	
	"release_hwpacks",
	["platform", "", "", ("hardware", r"hwpack_linaro-(.*?)_")])
	Once a URL has been split up by os.sep, this is how to file what is found. In this instance the first directory is used as the platform value in the database entry to be created. The tuple is of the form (column name, regexp), where regexp.group(1) is used as the value stored in the database in the colum "column name". In this example the build column is not filled in, but it is created in the database. This is to allow for a database where sometimes this column is used. This will be the case when transitioning from the old to new server layout.
	
	The UI currently won't cope with the NULL entry in the build column properly, but at least the indexer will work.
	
	This has been tested with an example layout of the new server structure, but not with the old server structure, so is not ready to merge.

2011-08-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-image-indexer:
	* linaro_image_tools/fetch_image.py:

	Updating server indexer.
	Target is to get rid of all the special casing and make the indexer better at excluding/including files. Have given the URL verifier variable a new structure, so now it is a tuple of two lists. The first element of the tuple is a list of regexps that should match, the second is a list of regexps that shouldn't match.

2011-10-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:

	Bring in fetch_image changes.

2011-10-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Updating fetch image library to match new linaro media create command line.

2011-10-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Updated to match new lmc command line params.

2011-10-20  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Merge lp:~dooferlad/linaro-image-tools/11.09_fetch_image_update; adds 11.09
	to list of available images.

2011-10-05  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Enable 11.09 release in linaro-fetch-image

2011-10-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:

	Post-release version bump to 2011.10.1

2011-10-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:

	Release 2011.10

2011-10-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Display qemu version in l-m-c and l-a-m-c --version output.

2011-10-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Fix a comment typo.

2011-10-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Add qemu-arm-static version to l-m-c and l-a-m-c --version output.

2011-10-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Update rootfs /etc/network/interfaces with interfaces specified in the hwpack.

2011-10-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add tests.

2011-10-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/rootfs.py:

	Add one entry in rootfs /etc/network/interfaces for each interface specified in the hwpack to bring them up automatically with dhcp.

2011-10-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Add l-m-c and l-a-m-c command line parameters using dashes for consistency.

2011-10-12  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Swap places for the dash and underscore option aliases so that the ones with dashes are displayed first in the help.

2011-10-12  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Add aliases for command line options using dashes instead of underscores.

2011-10-14  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Addressing the review comments for the hwpack name changes

2011-10-13  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Addressing the review comments for the hwpack name changes

2011-10-13  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Adding an optional parameter to specify the build number to be used in new hwpack filename.

2011-10-13  James Westby  <james.westby@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Support the new path for the rootfs dir within the tarball.
	
	live-build has changed the path that it puts the rootfs at
	within the tarball, so we have to support both the old and
	new locations.

2011-10-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/utils.py:

	Don't use Tarfile as a context manager.

2011-10-12  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Add path_in_tarfile_exists() and use it to detect new Live image format.

2011-10-12  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Changing the timestamp on the hwpack to use utc time than the local time and fixing the tempdir cleanup

2011-10-12  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Changing the timestamp on the hwpack to use utc time than the local time and fixing the tempdir cleanup

2011-10-12  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Add a -i, --in-place option to modify the specified hwpack rather than making a new one and also cleanup tempdir

2011-10-11  Paul Larson  <paul.larson@canonical.com>

	* linaro-hwpack-replace:

	* Add a -i, --in-place option to modify the specified hwpack rather than making a new one
	* Cleanup the tempdir

2011-10-07  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-hwpack-replace:

	Enable just removing a package with linaro-hwpack-replace.

2011-10-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-hwpack-replace:

	Just remove the package if no replacement package passed to linaro-hwpack-replace.

2011-10-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:

	Make the boot_script hwpack field optional.

2011-09-27  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:

	Make boot_script field optional.

2011-10-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Disable temp Omap fix for hwpacks V2, where it's not longer needed.

2011-10-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Don't execute set_appropriate_tty for V2 hwpacks, since tty will be set explicitly.

2011-10-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:

	Use --dev mx53loco in linaro-android-media-create to be consistent with linaro-media-create. Add deprecation warning for --dev iMX53.

2011-09-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:

	Restore iMX53 board option and add a deprecation warning.

2011-08-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Change --dev value for imx53 to mx53loco to be consistent with l-m-c.

2011-10-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:

	Remove experimental banner from linaro-android-media-create.

2011-10-03  Andy Doan  <andy.doan@linaro.org>

	* linaro-android-media-create:

	l-a-m-c is no longer "experimental"

2011-10-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:
	* do-release:
	* linaro-hwpack-create:
	* linaro_image_tools/media_create/__init__.py:
	* setup.py:

	Enable -v/--version option.

2011-10-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:

	Change version back to numeric only.

2011-10-04  Mattias Backman  <mattias.backman@linaro.org>

	* do-release:

	Move seds to function.

2011-10-03  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Change setup.py to get version from __version__.py

2011-10-03  Mattias Backman  <mattias.backman@linaro.org>

	* do-release:

	Change do-release to update version in __version__.py

2011-10-03  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/__version__.py:
	* do-release:
	* linaro-hwpack-create:
	* linaro_image_tools/media_create/__init__.py:

	Enable -v and get version from __version__.py

2011-09-23  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Post-release version bump to 2011.09.1

2011-09-23  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Release 2011.09

2011-09-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image_settings.yaml:

	Add hwpack info dialog to fetch-image-ui.

2011-09-06  Andy Doan  <andy.doan@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image_settings.yaml:

	add ability to provide hwpack descriptions to the user
	
	it would have been nice to add these descriptions somewhere
	else in the YAML so you don't have to type the hwpack name
	multiple times, but that would break backward compatibility
	in the file

2011-09-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:

	Allow --dev snowball_sd with V2 hwpacks.

2011-09-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:

	Pay attention to the --dev option when using Snowball hwpacks, which can be used for sd (two partitions) and emmc (three partitions with loader population).

2011-09-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:

	Use SPL metadate fields for Omap X-loader and Samsung SPL. Use the <file>_dd metadata fields to specify dd seek.

2011-09-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Change check that a flashable env should be created and dd:d.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge trunk.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Set the spl properties from hwpack metadata.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add spl_x properties to BoardConfig.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Make presence of spl_file and uboot_file indicate that these files should be put in the hwpack.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Salvage some more forgotten Samsung code.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Create flashable env if this is a Samsung hwpack.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:

	Change x-loader to spl in hwpack metadata.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Change x-loader to spl in hwpack config.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Check for spl file instead of x_loader in install_omap_boot_loader.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Get metata fields uboot_dd and spl_dd.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Use spl file as Omap x-loader and dd spl file if offset is specified in spl_dd. This removes the need for the Samsung specific code.

2011-09-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:

	Remove test for removing found packages.

2011-09-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Defer removing packages from hwpack list until they have been used.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change format of metadata field mmc_id and make it required.

2011-09-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/media_create/boards.py:

	Correct whitespace.

2011-09-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change format of mmc_id to match mmc_option '0:1' and calculate mmc_part_offset from that.

2011-09-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Pull in board specific _make_boot_files() code to a single function.

2011-09-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:

	Set up logging, seems to be needed to enable warn logging in partitions.py.

2011-09-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use the same Samsung bootloader code for both v1 and v2 code paths.

2011-09-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Save hwpack_format so we don't have to iterate over the hwpack tarballs every time we need the format version.

2011-09-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Fix the broken get_format() fix.

2011-09-15  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/media_create/boards.py:

	Fix glob pattern to accept leading * and fix some pep8 problems.

2011-09-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Extract dd_file method to assert that the file exists, that it does not exceed a maximum size and dd it to the target.

2011-09-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Change kernel files glob to be relative to chroot instead of chroot/boot/ and fix get_format() bug.

2011-09-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add uboot_dd field to hwpack metadata to be used to request that the uboot file is dd:d to the target.

2011-09-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Consolidate _make_boot_files() methods into _make_boot_files_v2() with conditionals.

2011-09-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Assert that format is 1.0 if partition_layout is not specified.

2011-09-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Stop asserting a combination of V1 parameters for Igep v2 hwpack.

2011-09-12  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Assert that the uboot bin file is found instead of asserting a certain set of hwpack v1 fields.

2011-08-31  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Look for Origen spl file origen-spl.bin since upstream changed the expected name.

2011-08-30  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add the new spl name for Origen in upsream u-boot

2011-08-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add hwpacks V2 support for Samsung boards.

2011-08-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Fix extra empty line.

2011-08-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Move dd(uboot_file) into hardwarepackhandler context.

2011-08-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Move Samsung specifics to BoardConfig.

2011-08-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:

	Add samsung fields to hwpack metadata.

2011-08-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add Samsung hwpack v2 fields to l-m-c.

2011-08-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Add Samsung BL1, BL2 and ENV fields to hwpack config.

2011-08-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Accept spl_file config field and have hwpack-create put that file in the hwpack.

2011-08-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Get spl_file from hwpack if it's in there.

2011-08-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Move Samsung constants from module scope to SamsungConfig class properties.

2011-08-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add hwpacks V2 support for Snowball.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add load_start field needed by Snowball and make sure partition_layout field sticks to class scope.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add tests for V2 get_sfdisk_cmd functions.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Create V2 get_x_sfdisk_cmd functions.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use snowball_startup_files_config from metadata.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* initrd-do:
	* linaro_image_tools/tests/test_server_index.sqlite:
	* linaro-fetch-image-ui:
	* linaro-hwpack-replace:
	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_fetch_image.py:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:
	* setup.py:

	Merge trunk.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Merge add-vmlinuz.

2011-08-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Allow reserved partition option for partition_layout.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Merge hwpacks-v2-add-vmlinuz.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge hwpackv2_add_x_loader.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Enable reserved_bootfs_rootfs partitioning option.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Merge hwpack-v2-uboot-not-required.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Add snowball_startfiles_config file to hwpack-create config.

2011-08-25  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add Origen support to linaro-android-media-create and also zero the u-boot env area on the SD card so that an old env doesn't get used.

2011-08-24  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make Samsung Android board configs inherit a common sfdisk_command function. Add a couple of unit tests.

2011-08-22  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Add origen supprt 

2011-08-22  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Zero the u-boot env on the SD card so an old one doesn't get used

2011-08-24  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add support for more hwpack v2.0 fields.
	
	kernel_file - path to the installed kernel
	initrd_file - path to the installed initrd
	dtb_file - path to the installed device tree binary
	dtb_addr - device tree address
	extra_boot_options - extra boot arg options
	boot_script - filename relative to /boot where to put boot script
	u_boot_in_boot_part - whether to put the uboot binary in the boot partition
	extra_serial_opts - extra serial options

2011-08-24  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add debug printout.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:

	Accept globs in kernel file fields.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Merge hwpackv2_add_x_loader.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_config.py:

	Restore a test that was lost along the way.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Fix type of uboot_in_boot_part in comment.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add tests for metadata output.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add unit tests for more fields.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add unit tests for more fields.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Make a couple of more fields non required and clean up tests.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge hwpackv2_add_x_loader

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:

	Add test for kernel_file.

2011-08-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/media_create/boards.py:

	Rename vmlinuz and initrd fields to kernel_file and initrd_file to be consistent with dtb_file, kernel_addr etc.

2011-08-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/media_create/boards.py:

	Rename u-boot_in_boot_part to use underscore as separator.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Make dtb_file not required.

2011-08-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Remove target parameter from get_metadata_field and clean up.

2011-08-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add extra_serial_opts to hwpack metadata.

2011-08-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add boot_script and u-boot_in_boot_part field in hwpack metadata.

2011-08-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add extra_boot_options field to hwpack metadata.

2011-08-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Rename fdt field to dtb_file to be consistent with dtb_addr.

2011-08-03  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add dtb_addr field to hwpack metadata.

2011-08-03  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:

	Add vmlinuz, initrd and fdt fields in hwpack metadata.

2011-08-24  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add TI x-loader support for hwpacks V2 format.

2011-08-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Merge hwpack-v2-uboot-not-required.

2011-08-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Rename u-boot-file and u-boot-package fields to use underscore like all the hwpack v2 fields.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Make the u-boot fields not required in hwpack metadata.

2011-08-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Make x-loader hwpack fields not required.

2011-08-03  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix test_install_omap_boot_loader to work with an extra parameter.

2011-08-03  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add l-m-c support for having OMAP MLO file in hwpack.

2011-08-03  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_config.py:

	Add tests for x-loader config fields. Add one missing test for u-boot-package config.

2011-08-02  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Added support for x_loader_file and x_loader_package fields in the hwpack config.
	Fixed up tests to not fail with new fields.
	TODO: Test new fields.

2011-08-24  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-hwpack-replace:

	Fix hwpack name in linaro-hwpack-replace.

2011-08-23  deeptik<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Fixing the new hwpack name to contain minutes info instead of seconds

2011-08-24  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:

	Logs the output of linaro-media-create as run by linaro-fetch-image[-ui].

2011-08-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/fetch_image_settings.yaml:

	Add a log file for linaro-media-create output.
	Single line change to fetch_image_settings.yaml - removing the now deprecated lt-mx53loco

2011-08-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Allow Snowball startfiles.cfg to specify full path to each individual startfile. If an absolute path is not specified, the files are assumed to be in /boot of the chroot.

2011-08-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Detect absolute path in startfiles.cfg instead of checking that the file exists.

2011-08-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Correct comment text.

2011-08-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Remove hacky extra check. Fix absolute path to be relative to the chroot and not system root.

2011-08-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add support for absolute paths in Snowball startfiles.cfg. Also fallback to a hardcoded path to support u-boot packages that do not link u-boot.bin to /boot.

2011-08-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	YAML updated for 11.08 release:
	* Removed translasions of release names since they aren't required anymore.
	* Renamed the imx53 board to its full and correct title: i.MX53 Quick Start.

2011-08-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	(Hopefully) final update of UI settings for 11.08.

2011-08-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Updated YAML for 11.08 release

2011-08-22  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Post-release version bump to 2011.08.1

2011-08-22  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Release 2011.08

2011-08-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	* All hardware that is available is shown on page 1
	* If you chose hardware that doesn't have a build type available (release or snapshot) that build type is greyed out on page 2 with some help text saying why.

2011-08-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	* All hardware that is available is shown on page 1
	* If you chose hardware that doesn't have a build type available (release or snapshot) that build type is greyed out on page 2 with some help text saying why.

2011-08-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	Changed default file system to ext4.

2011-08-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	Changed default file system to ext4.

2011-08-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Change --rootfs default to ext4.

2011-08-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Look for u-boot.img before u-boot.bin which is needed when u-boot SPL is enabled for Pandaboard.

2011-08-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Check for u-boot.img to be copied to the boot partition. If u-boot.img is not found, use u-boot.bin.

2011-08-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	Updates around the end of the GUI:
	* LMC settings page has advanced settings done properly
	* New device choser
	* New are you sure question when writing image to device.

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	Added an OK device choser. Unfortunately most of the information that you can get over dbus (http://hal.freedesktop.org/docs/DeviceKit-disks/Device.html) is mostly useless. My guess is that hard disks are much better supported than finding out about an SD card hanging of a USB writer.

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	Trying to get a decent dev choser. Not working so far!

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	lmc_settings page updates:
	* Removed "are you sure" tick box
	* Put advanced settings in proper UI element

2011-08-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	Pages 1 and 2 of the new IU are now complete.
	
	* Saying you want to run a simulation will generate a Beagle image to run on QEMU (tool does not run QEMU for you)
	* Advanced options on page 2 allow for selecting an OS that isn't Ubuntu Desktop
	* Unless you are selecting a snapshot build, page 3 is now linaro-media-create settings
	
	Part 3 of the updates will concentrate on the linaro-media-create settings page.

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	Pages 1 and 2 of the new IU are now complete.
	
	* Saying you want to run a simulation will generate a Beagle image to run on QEMU (tool does not run QEMU for you)
	* Advanced options on page 2 allow for selecting an OS that isn't Ubuntu Desktop
	* Unless you are selecting a snapshot build, page 3 is now linaro-media-create settings
	
	Part 3 of the updates will concentrate on the linaro-media-create settings page.

2011-08-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	Added advanced options to stable/dev page.

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:

	Fixes three problems shown by unit tests:
	* Assert always runs - changed to raise AssertionError
	* Updated test_pyflakes.py so the "redefinition of unused CommandNotFound" error is ignored again
	* Test test_verify_files now passes (NamedTemporaryFile mocked to be predicatable)

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:

	Fixes three problems shown by unit tests:
	* Assert always runs - changed to raise AssertionError
	* Updated test_pyflakes.py so the "redefinition of unused CommandNotFound" error is ignored again
	* Test test_verify_files now passes (NamedTemporaryFile mocked to be predicatable)

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	Round 1 of updates to linaro-fetch-image-ui.
	
	This gives a new arrangement of the first two pages.

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	Added a couple of module level constants.

2011-08-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	If user has selected emulated system, don't let them write to a device (assumption is QEmu will run using an image file).

2011-08-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:

	Re-arranged first two pages according to new UI design.

2011-08-18  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Increase the default image size to 3G.

2011-08-18  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/__init__.py:

	Up the default image size to 3G.

2011-08-18  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_server_index.sqlite:
	* linaro_image_tools/tests/test_fetch_image.py:

	Modifications that change the fetch image library unit tests to use local files, not downloaded ones.

2011-08-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_fetch_image.py:

	switch from using inspect to __file__ to determine the current file. While this is potentially less reliable, it is consistent with the rest of the code.

2011-08-11  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_fetch_image.py:

	Fix possible problem with using a really old database for the test.

2011-08-11  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_server_index.sqlite:
	* linaro_image_tools/tests/test_fetch_image.py:

	Tests for linaro-fetch-image now use local files, not server files.

2011-08-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Improve error reporting when linaro-fetch-image is passed a set of options that don't match any available builds. User will now receive helpful information on what doesn't match up.

2011-08-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image:
	* linaro_image_tools/fetch_image.py:

	Undo previous change - it was broken.
	If an URL can not be pulled from the database we now log useful error messages, which are printed to the terminal by default.

2011-08-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image:

	Quick spell check for the release/snapshot CLI parameter.

2011-08-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Improved the error handling around how linaro-fetch-image interacts with GPG.

2011-08-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/utils.py:

	GPG interaction now uses --status-file to give us language independent output.

2011-08-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Found another message not being passed as a tuple.

2011-08-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Bug fix: Was not passing a message correctly into the message queue correctly (not sent as tuple)
	linaro-fetch-image[-ui] copes with GPG signates failing because the GPG key is missing from the users keyring more sensibly.

2011-08-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Added back some required parts of the YAML that didn't get added to bzr.

2011-08-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Added back some required parts of the yaml that apparently hadn't got into bzr.

2011-08-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Corrected Bug #824733

2011-08-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:

	Corrected Bug #824733
	Added in some new hardware packs.
	Added note about need to support snowball, but need to investigate.

2011-08-11  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-replace:

	hwpack-replace: allow the caller to specify a prefix of packages to remove.

2011-08-11  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Adding a small comment and including the descrption abt hwpack removal into should_remove() and using the string to directly compare instead of string substitution

2011-08-11  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Addressing comments to include a small function (should_remove) to verify if package information
	needs to be removed from the Packages and manifest file. Also, use the same function to remove
	the debian packages matching the prefix of the package specified.

2011-08-05  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Changes to make it work for non linaro hwpack instead of making it work for linaro hwpack only

2011-08-05  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Removing un necessary backslash

2011-08-05  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	This patch addresses review comments with the following changes:
	1) Improve the description of the --prefix-pkg-remove arguement of l-h-r
	2) Rectified indentation problem and removed un necessary backslash
	3) Removed un used debian_pack_found variable
	4) Gave a comment on why we need to remove the hwpack-linaro-* info

2011-08-04  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	This patch fixes the bug Bug #816767 [linaro-hwpack-replace only replace same name deb pkg but in fact it needs a smart match]
	It now replaces old deb (with a different name) package with a new hwpack,
	so that l-m-c can determine which package is to be installed in later hwpack installation.
	The changes adds the new option --prefix-pkg-remove to handle this where the user is needed to provide the 
	prefix of the debian package that needs to be removed while including the new one.

2011-08-10  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Set initrd_high and fdt_high u-boot env vars on Panda.

2011-07-09  David A. Long  <dave.long@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Set the initrd_high and the new fdt_high u-boot environment variables to prevent u-boot
	from relocating the intial ramdisk and flattened device tree to the end of memory,
	which would be in HIGHMEM on Panda and would therefore not work.

2011-08-10  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:

	Create /etc/apt/sources.list.d in IsolatedAptCache. Thanks to Rex Tsai.
	
	Newer apts require this dir to function, and so we have to create it in
	our temp apt hierarchy.

2011-08-08  Lo√Øc Minier  <loic.minier@linaro.org>

	* initrd-do:
	* setup.py:

	Merge lp:~lool/linaro-image-tools/initrd-do; adds a script to edit an initrd
	interactively or automatically.

2011-08-03  Lo√Øc Minier  <loic.minier@linaro.org>

	* setup.py:

	Install initrd-do script.

2011-08-03  Lo√Øc Minier  <loic.minier@linaro.org>

	* initrd-do:

	Add new initrd-do script to interactively or automatically edit an initrd.

2011-08-04  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:

	Add SMDKV310 support to linaro-android-media-create.

2011-07-27  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Undo 1 more change

2011-07-27  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	fix whitespce

2011-07-27  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	whitespace change

2011-07-27  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Fix botched merge

2011-07-27  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro-fetch-image:
	* linaro-fetch-image-ui:
	* linaro-hwpack-replace:
	* linaro_image_tools/tests/test_fetch_image.py:
	* org.linaro.linaro-image-tools.policy:
	* linaro-android-media-create:
	* linaro-media-create:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:
	* setup.py:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/index_server.py:
	* linaro-image-indexer:

	merge in SMDKV310 support

2011-07-27  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Add android support for the SMDKV310 board

2011-07-06  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:

	Fix the BL1 image size check 

2011-08-03  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	The l-m-c was failing to use the hwpack created by linaro-hwpack-replace as 
	there was a problem in the hierarchy of the files it packed and it had a "./"
	appended in every file. This patch fixes the hwpack files path.

2011-08-03  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	Fix the way l-h-r tar the hwpack

2011-08-03  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-hwpack-replace:

	hwpack-replace: Always add the new info the Packages file.
	
	Also only add a single staza of the new package, even if there are multiple packages to remove.

2011-07-28  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-replace:

	hwpack-replace: Always add the new info the Packages file.
	
	Also only add a single staza of the new package, even if there are multiple
	packages to remove.

2011-07-28  James Westby  <james.westby@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:

	Fix the android-media-create support for imx.53 to create bootable images.

2011-07-28  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro-android-media-create:

	install_boot_loader needs to be called with the boot partition mounted

2011-07-28  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	The iMX53 boot loader needs to be u-boot.imx, not u-boot.bin
	Current builds have been adapted to provide the correct file.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* README:
	* linaro_image_tools/fetch_image.py:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_pyflakes.py:

	Merge lp:~lool/linaro-image-tools/misc-syntax-fixes; fixes support for older
	Python versions and various syntax issues reported by pyflakes; LP: #817060.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Drop unused gpg_files entirely.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* README:

	Mention optional installation of pyflakes to run tests in the README.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/tests/test_pyflakes.py:

	pyflakes: update line numbers in allowed warnings.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Actually test executed commands in
	TestMountedPartitionContextManager.test_umount_failure(); has the side effect
	of fixing a pyflake unused variable warning.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/fetch_image.py:

	pyflakes: drop unused variable redownloaded_files.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/fetch_image.py:

	pyflakes: gpg_files should be self.gpg_files; this is unused in both cases, so
	should perhaps be removed.

2011-07-28  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Split with statement in two for compatibility with older pythons.

2011-07-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	1. fetch-image-ui now examines the return code of linaro-media-create and reports failures to the UI.
	2. The image_size parameter to linaro-media-create wasn't being passed. This resulted in linaro-fetch-image being unable to create Ubuntu Desktop disk images, which now need to be larger than the default size of 2GB.

2011-07-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image.py:

	Fixing half way through change check in.

2011-07-27  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-fetch-image-ui:
	* linaro_image_tools/fetch_image.py:

	1. fetch-image-ui now examines the return code of linaro-media-create and reports failures to the UI.
	2. The image_size parameter to linaro-media-create wasn't being passed. This resulted in linaro-fetch-image being unable to create Ubuntu Desktop disk images, which now need to be larger than the default size of 2GB.

2011-07-26  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* setup.py:

	Post-release version bump to 2011.07.1

2011-07-26  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* setup.py:

	Release 2011.07

2011-07-26  James Westby  <james.westby@linaro.org>

	* setup.py:

	Add the new scripts to setup.py.

2011-07-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/tests/test_fetch_image.py:

	Import the new name of fetch_image in test_fetch_image.

2011-07-26  Bernhard Rosenkranzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Install the imx.53 bootloader when using Android.

2011-07-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Avoid an error if the kernel version doesn't match 2.6.*.

2011-07-26  James Westby  <jw2328@jameswestby.net>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Avoid an error if the kernel version doesn't match 2.6.*.
	
	Assume that anything that doesn't match that pattern is greater than the
	version needed for the workaround there.

2011-07-26  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	A new contextmanager to use when you want to mount a partition, copy something
	to it and umount when done

2011-07-26  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change the partition_mounted() context manager to only log a warning when umount() fails with a SubcommandNonZeroReturnValue

2011-07-25  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	A new contextmanager to use when you want to mount a partition, copy something to it and umount when done

2011-07-26  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-image-indexer:
	* linaro_image_tools/fetch_image.py:

	Merging in temporary workaround for bug #816015.
	
	Prevent the indexing of any snapshots that aren't in http://snapshots.linaro.org/11.05-daily/ so the current logic for hwpack and OS selection will not result in finding an OS binary without a hardware pack to go with it.
	
	When testing I noticed that I hadn't changed the name of the library FetchImage to fetch_image (without this change the indexer wouldn't work). I also moved the BeautifulSoup import in fetch_image.py to the single function where it is used, so BeautifulSoup is not needed to be installed on the server that is creating the index.

2011-07-26  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-image-indexer:
	* linaro_image_tools/fetch_image.py:

	This is a temporary workaround for bug #816015.
	
	Prevent the indexing of any snapshots that aren't in http://snapshots.linaro.org/11.05-daily/ so the current logic for hwpack and OS selection will not result in finding an OS binary without a hardware pack to go with it.
	
	When testing I noticed that I hadn't changed the name of the library FetchImage to fetch_image (without this change the indexer wouldn't work). I also moved the BeautifulSoup import in fetch_image.py to the single function where it is used, so BeautifulSoup is not needed to be installed on the server that is creating the index.

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image.py:
	* linaro-fetch-image:
	* fetch_image_ui.py:
	* linaro-fetch-image-ui:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/fetch_image.py:

	Renamed fetch image tools in line with other applications in the linaro-image-tools repository.

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image.py:
	* linaro-fetch-image:
	* fetch_image_ui.py:
	* linaro-fetch-image-ui:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/fetch_image.py:

	Renamed fetch image tools in line with other applications in the linaro-image-tools repository.

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	After downloading files fetch_image[_ui].py checks the sha1sums and GPG signatures of the downloads.
	
	If a GPG signature doesn't verify a sha1sum file, the GPG signatures and sha1sums are re-downloaded. The GPG signatures are then re-checked. If the GPG signatures still don't verify all the sha1sums, we abort.
	
	If a sha1sum check fails, the file it is checksumming is re-downloaded. If after retrying a download then sha1sum check still fails the process is aborted.
	
	If if all GPG signatures are valid and sha1sum checks pass, we mark the packages as signed.
	
	If GPG signatures or SHA1 sums are unavailable for any package, and the above rules are met, we continue with image creation, but the packages are marked as unsigned.

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	Added abort condition - if we have a GPG signature for a sha1sum file and even after re-downloading they don't match, something is clearly wrong, so abort.

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	If there isn't a GPG signature for a sha1sum file, use sha1sums to validate download, just don't mark packages as signed.

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Moved downloading functions into their own class since there was a lot of shared data being pushed around in variables that could be better implemented as class variables.
	
	Tested working for:
	* downloading missing files
	* downloading sha1sum when GPG sig says it is wrong
	* downloading GPG sig when GPG reports a problem
	* downloading files when GPG says sha1sum is fine, but sha1sum says file is wrong

2011-07-22  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	* If a sha1sum check fails and GPG signature for sha1sum file passes, try re-downloading failed files.
	* Fixed a bug where a build number could be chosen for a day where only the OS image was available for that build number.

2011-07-22  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make sure the root partition is umounted if something goes wrong while it's being populated.

2011-07-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/rootfs.py:

	Update the docs of populate_rootfs() to state clearly that it uses an atexit handler and does not umount the partition directly

2011-07-21  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make sure the root partition is umounted if something goes wrong while it's being populated.

2011-07-21  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro-media-create:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Merging in changes that makes the Fetch Image tools download SHA1 sums and GPG signatures for the hardware pack and OS binaries to allow linaro-media-create to install the packages without asking the user to approve the installation of unsigned packages.

2011-07-21  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Moved checking the result of verify_file_integrity into its own function that logs the errors, which is now unit tested.

2011-07-21  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/cmd_runner.py:

	Added stdout and stderr to SubcommandNonZeroReturnValue.__str__

2011-07-21  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/utils.py:

	Added communicate function to cmd_runner that will both throw an exception if the function it is communicating with exits with a non-zero exit code and also returns stdout and stderr in the exception object.

2011-07-21  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/tests/test_utils.py:

	linaro-media-create now aborts on GPG and sha1sum check fails with nice messages.
	Unit tests currently failing, but manual testing shows that this is working fine.
	Moved the registration of the atexit handler so it isn't called before /tmp has been used.

2011-07-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/utils.py:

	* Changed utils.verify_file_integrity so it won't throw exceptions when either GPG or sha1sum fails
	* Modified linaro-media-create to cope to new utils.verify_file_integrity return signature
	* Modified FetchImage to use new utils.verify_file_integrity return information

2011-07-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	Minor tidy up of some truely ugly formatting.
	
	I propose that I will do a proper go at re-formatting to PEP8 standard after this has merged to avoid any problems with other merges that have gone through during development and submit that later.

2011-07-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Tidying up.

2011-07-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	sha1sums and GPG sigs downloaded and checked.

2011-07-14  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Now download files required for sig checking in linaro-media-create.
	Not passing files to l-m-c yet...

2011-07-21  James Westby  <jw2328@jameswestby.net>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Set default display to give decent output where EDID probing isn't supported.

2011-07-19  Andy Doan  <andy.doan@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	fix some overo display issues
	
	1) some tobi's are unable to probe EDID for their resolution. This
	gives a better fallback (omapfb.mode)
	
	2) some pallo43 boards aren't probable to determine the board
	type. Thus we have to set defaultdisplay manually (or in EEPROM)
	to "lcd43" to support touchscreens. In the event it is probable,
	u-boot already sets this variable so we should honor it

2011-07-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* org.linaro.linaro-image-tools.policy:

	Adding a Policy Kit action definition file, which should live in /usr/share/polkit-1/actions so when pkexec linaro-media-create is called we have more information and less clutter in the Policy Kit auth dialog.

2011-07-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* org.linaro.linaro-image-tools.policy:

	Adding a Policy Kit action definition file, which should live in /usr/share/polkit-1/actions so when pkexec linaro-media-create is called we have more information and less clutter in the Policy Kit auth dialog.

2011-07-20  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_fetch_image.py:
	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/tests/__init__.py:

	Merge in branch where unit tests were moved out of fetch_image_ui.py into linaro_image_tools/tests/test_fetch_image.py.

2011-07-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_fetch_image.py:

	Wrapping lines to 79 chars.

2011-07-19  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_fetch_image.py:
	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/tests/__init__.py:

	Moved unit tests out of fetch_image_ui.py into linaro_image_tools/tests/test_fetch_image.py, added tests to linaro_image_tools/tests/__init__.py and fixed bug found by actually running the test in linaro_image_tools/FetchImage.py.

2011-07-18  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-replace:

	Add linaro-hwpack-replace to replace a .deb in a hwpack with another.

2011-07-18  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-inject-debian-inhwpack:

	Addressing the review comments on linaro-inject-debian-inhwpack

2011-07-12  Deepti B. Kalakeri<deepti.kalakeri@linaro.org>

	* linaro-inject-debian-inhwpack:

	Add feature to include/replace a debian package into the given hwpack

2011-07-18  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Add support for Android on the i.MX53 Quick Start Board

2011-07-18  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Fix syntax error

2011-07-18  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Enable VGA port

2011-07-18  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Don't hardcode ttymxc0

2011-07-18  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	mmc_part_offset must be 0 for Android

2011-07-17  Bernhard Rosenkraenzer  <Bernhard.Rosenkranzer@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:

	Initial support for Android on Freescale i.MX53 Quick Start Board

2011-07-18  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make sure rootfs.move_contents() doesn't skip files that are not world-readable.

2011-07-18  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make sure rootfs.move_contents() doesn't skip files that are not world-readable

2011-07-14  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Removed GUI code from the FetchImage library.
	Updated the download status the UI gives to the user, so now it is integrated into the wizard.

2011-07-14  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Code clean up.

2011-07-14  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	GUI download logic excludes already downloaded files from its calculations.

2011-07-13  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	Fixed lack of download status prints for CLI.

2011-07-13  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Now have a download bar in the UI with an ETA read out and current download speed.

2011-07-13  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Download files now done by list. Bytes downloaded sent back to UI that now tracks percentage complete.

2011-07-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	GUI code removed from common library. Now GUI runs all downloads and the linaro-media-create call in a separate thread and passes messages in the event queue back to the GUI.
	
	Seemed reasonable to implement changes to the download progress now, so not using standard progress bar at the moment - just have text info in GUI.

2011-07-12  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	UI code out of library, but need to run download in separate thread to keep UI responsive.

2011-07-11  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:
	* linaro_image_tools/FetchImage.py:

	Moved Wizard code out of library. Download status bars to go.

2011-07-08  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	Split out linaro-media-create command generation into separate function.

2011-07-07  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	Moved download function out of create_image.

2011-07-07  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/index_server.py:
	* linaro-image-indexer:

	Removed status prints from linaro_image_tools/index_server.py and renamed it to linaro-image-indexer

2011-07-07  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* index_server.py:
	* linaro-image-indexer:

	Renamed index_server.py to the less generic linaro-image-indexer

2011-07-07  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/index_server.py:
	* index_server.py:

	Restored absolute path change (rev 369) and moved file to location where it will work.

2011-07-07  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/index_server.py:

	Removed status prints
	Reverted absolute path change (rev 369). Perhaps I am missing something, but the script wouldn't run.

2011-07-07  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add support for Origen board

2011-07-07  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* fetch_image.py:
	* fetch_image_ui.py:

	merge trunk

2011-07-05  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Fix the asserts in install_samsung_boot_loader(), which were broken and thus making it impossible to generate images for smvdk310 and origen

2011-07-05  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Fix the call to install_samsung_boot_loader() in SamsungConfig._make_boot_files()

2011-07-05  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Remove some unneeded arguments from methods of Samsung board configs

2011-07-04  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add suport for the Samsung Origen board

2011-07-07  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image.py:
	* fetch_image_ui.py:

	Merging fetch_image_ui.py to trunk - a GUI that guides the user through the process of identifying their hardware and what Linaro software they would like to run on it, downloading the required files (hardware packs and OS binaries) and generating a file system using linaro-media-create.

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image_ui.py:

	Initial merge request of fetch_image_ui.py - a GUI with similar functionality to fetch_image.py.
	
	The GUI guides the user through the process of creating an image for their ARM hardware. Files are pulled as required from release.linaro.org and snapshots.linaro.org and combined using linaro-media-create.

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image.py:

	Merging in fetch_image.py
	
	This is a command line client that will download the required files from release.linaro.org and snapshots.linaro.org to build a specified OS image for your hardware, for example:
	
	fetch_image.py -w panda -a linaro-n -i nano -b final -p panda -t ~/Desktop/panda.bin
	
	This will create a nano image for a panda board based on the final linaro-n release from release.linaro.org and place it on the users desktop.

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image.py:

	Modified according to changes proposed by code review.

2011-06-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* fetch_image.py:

	Adding the initial revision of the Fetch Image CLI tool.

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add metadata fields boot_min_size, root_min_size and loader_min_size to linaro-media-create.

2011-06-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add metadata fields boot_min_size, root_min_size and loader_min_size to linaro-media-create.

2011-06-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:

	Add tests for metadata output.

2011-06-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add boot_min_size, root_min_size and loader_min_size fields to hwpack-create.

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use the hwpack u-boot file for the SMDKV310 board.
	
	To make this change consistent with the MX5 board, also move the Samsung specific methods into SMDKV310Config.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add asserts for file sizes according to comments.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use uboot file from hwpack for SMDKV310Config.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Move SMDKV310 specific methods into SMDKV310Config class.

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-hwpack-install:
	* linaro-media-create:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add support for first batch of hwpack 2.0 fields to linaro-media-create.
	
	This adds support for kernel_addr, initrd_addr, load_addr, u-boot (path 
	to uboot binary in the hwpack), serial_tty and partition_layout. 

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Only clear metadata defaults if no 1.0 hwpacks have been passed.

2011-06-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Allow mixing hwpack formats and consider metadata format to be the same as the highest format version encountered.

2011-06-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Change test to use variable for matching text.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Clean up and minor fixes.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Delay setting extra_serial_opts and live_serial_opts for all boards to make sure that serial_tty is not read from class defaults for V2 format.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Support multiple hwpacks. This makes sure that all hwpacks are of the same format version and that metadata fields are not specified in more than one of the hwpacks (except name, maintainter and a few more).

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Also avoid overriding fat_size.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* setup.py:

	Merge trunk.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use hwpack uboot file for Mx5Config.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add get_file() to HardwarepackHandler and use it in populate_boot().

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add tests for HardwarepackHandler.

2011-06-27  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Assert that metadata fields have not already been set to prevent overriding data.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Restore an empty line.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Format version comes from the FORMAT file.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-hwpack-install:

	Add 2.0 as supported format in hwpack-install.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add unpacking and copying of uboot binary from hwpack.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Enable bootfs16_rootfs partition layout in hwpack-create.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add support for new metadata fields.

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/index_server.py:

	Use absolute imports for hardwarepack_format and FetchImage.

2011-06-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/index_server.py:

	Fix the FetchImage import.

2011-06-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/index_server.py:

	Use absolute imports to fix problem with setup.py.

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add support for the Snowball board to linaro-android-media-create, written by Ola Borgelin. Add tests for Snowball code, written by Hans Odeberg and Markus Andersson.

2011-07-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Minor clean up.

2011-06-30  Markus Andersson  <markus.m.andersson@stericsson.com>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fixed media_create test for 64-bit system and some test parameters more understandable. 

2011-06-30  Ola Borgelin  <ola.borgelin@stericsson.com>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Added extra_part parameter to get_sfdisk_cmd in android_boards and moved and renamed populate_startup_partition to populate_raw_partition  

2011-06-29  Ola Borgelin  <ola.borgelin@stericsson.com>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Snowball Android image support and tests

2011-06-29  James Westby  <james.westby@linaro.org>

	* setup.py:

	Post-release version bump to 2011.06-1.1

2011-06-29  James Westby  <james.westby@linaro.org>

	* setup.py:

	Release 2011.06-1

2011-06-29  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Use the lt- variant of the omap kernel.

2011-06-23  James Westby  <james.westby@linaro.org>

	* setup.py:

	Post-release version bump to 2011.06.1

2011-06-23  James Westby  <james.westby@linaro.org>

	* setup.py:

	Release 2011.06

2011-06-23  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use the new name for the SPL for the smdkv310 if the old one isn't present.

2011-06-22  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Check for old SPL file and if it doesn't exist check for new SPL. If 
	neither file exists raise an exception.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Set omapfb.vram=0:24M,1:24M for Android on Panda.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add a test for Android Panda extra_boot_args.

2011-06-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Duplicate extra_boot_args_options to android_boards.AndroidPandaConfig.

2011-06-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change omapfb.vram=0:24M to omapfb.vram=0:24M,1:24M to enable SGX on TI's kernel.

2011-06-22  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Merge lp:~mabac/linaro-image-tools/chdir-for-hashverify; use location of hash file as working dir when verifying sha1sums of hwpacks.

2011-06-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/tests/test_pyflakes.py:

	Adjust pyflakes test to reflect that a source line has been added.

2011-06-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Add basic tests for the file verification.

2011-06-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/utils.py:

	Move file verification from main into a utils function.

2011-06-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/cmd_runner.py:

	Add cwd parameter to cmd_runner.run() and use it for the sha1 verification in linaro-media-create.

2011-06-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack_format.py:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/tests/fixtures.py:

	Merge lp:~mabac/linaro-image-tools/hwpacks-v2-hwpack-create; add support for hwpacks V2 format to linaro-hwpack-create.

2011-06-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:

	Clean up some ugly formatting.

2011-06-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:

	Add tests for find_fetched_package.

2011-06-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/packages.py:

	Store full path to package when fetched using apt.

2011-06-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Break apart function that had two purposes.

2011-06-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/tests/fixtures.py:

	Add option to MockCmdRunnerPopenFixture to disable child finished assertion which is needed to be able to pipe between two cmd_runners. Add stdin property to MockCmdRunnerPopenFixture. Add test_unpack_package test.

2011-06-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Remove --wildcards from tar command and add comment.

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_script.py:

	Restore an empty line.

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:

	Add metadata as string tests.

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_builder.py:

	Add tests for PackageUnpacker.

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Clean up a little.

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack_format.py:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_script.py:

	Use HardwarePackFormat objects instead of format strings.

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/packages.py:

	Add PackageFetcher.get_package_path().

2011-06-17  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Cleanup after review.

2011-06-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Break out u-boot code into separate method.

2011-06-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Compare floats instead of format strings.

2011-06-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:

	Remove not yet supported config fields.

2011-06-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:

	Break out regexp matching to separate method.

2011-06-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Move package unpacking and tempfile handling to context manager object.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Clean up tempdir atexit and verify that the u-boot package actually was unpacked.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add test and validation for mmc_id.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add test for partition_layout.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add tests for network interface fields. Any ideas about naming restrictions for nw interfaces?

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add tests and validation for kernel_addr, initrd_addr and load_addr.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add test for serial_tty.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/tests/test_config.py:

	Add tests and validation for format, u-boot-package and u-boot-file.

2011-06-10  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:

	Make sure that 2.0 code only is executed when format is at least 2.0. Fix tests for new function signatures.

2011-06-09  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:

	Only validate new fields if format is at least 2.0.

2011-06-09  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:

	Don't unpack the u-boot package if 2.0 format is not used.

2011-06-07  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Unpack only explicitly specified file from u-boot package. Extract function to add one file from a package to the hwpack in preparation for supporting similar files.

2011-06-07  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Remove hwpack-create board field.

2011-06-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Get u-boot package path from PackageFetcher.

2011-06-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:

	Add new metadata fields from wiki spec with notes about implementation.

2011-06-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Remove placeholders for options that are not being worked on yet.

2011-06-01  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Add support for adding plain files to hwpack and add filenames to metadata. Also use this for file unpacked from u-boot package.

2011-05-31  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Get name of u-boot package from hwpack file, download the package but do not add to hwpack.

2011-05-31  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Get format from config file. 1.0 will be default and require hwpacks to specify format from now on.

2011-05-31  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/tests/test_pyflakes.py:
	* do-release:
	* linaro-hwpack-create:
	* linaro-media-create:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/utils.py:
	* setup.py:

	Merge trunk.

2011-05-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/config.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Extend Config to validate and provide new options.

2011-05-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:

	Add new options to metadata file.

2011-05-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/hardwarepack.py:

	Extend Metadata object iwith new options.

2011-05-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:

	Make version option make it into the FORMAT file in hwpack.

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/index_server.py:

	Merging in index_server.py and supporting files.

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/fetch_image_settings.yaml:
	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/index_server.py:

	Minor code clean up and adding fetch_image_settings.yaml

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:

	Removed trailing whitespace.

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/index_server.py:

	Many changes recommended by code review.

2011-06-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/index_server.py:

	Some major changes to FetchImage.py since the last merge proposal, all in support of development on lp:~dooferlad/linaro-image-tools/my_dev
	
	Minor changes to index_server.py, mostly to work around the appearance of an unexpected (and out of place) directory in the index path.

2011-06-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/tests/test_pyflakes.py:
	* README:
	* do-release:
	* linaro-android-media-create:
	* linaro-hwpack-create:
	* linaro-media-create:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/check_device.py:
	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/utils.py:
	* setup.py:

	Merge from trunk

2011-05-05  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/index_server.py:

	Server indexer updated to scan local file system

2011-04-28  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/FetchImage.py:
	* linaro_image_tools/index_server.py:

	Merge of files for generating the server index

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/check_device.py:

	Add option --nocheck-mmc to linaro-media-create

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro_image_tools/media_create/check_device.py:

	Provided sensible default to confirm_device_selection_and_ensure_it_is_ready parameter yes_to_mmc_selection

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Updated variable name to match CLI option: nocheck_mmc

2011-06-17  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	* Changed command line option from --yes-to-mmc-selection to --nocheck-mmc
	* Wrapped lines to 79 chars.

2011-06-15  James Tunnicliffe  <james.tunnicliffe@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/check_device.py:

	Add command line option to force yes to the "Are you 100% sure on selecting [mmc]" question.

2011-06-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~mabac/linaro-image-tools/fewer-magic-numbers-in-tests; refactor partitioning tests.

2011-06-10  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change test_get_boot_and_root_loopback_devices() and test_calculate_partition_size_and_offset() to use data stored in a variable instead of unconnected magic numbers.

2011-06-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~mabac/linaro-image-tools/image-support-for-android; Add --image_file option to linaro-android-media-create as requested in lp:787972

2011-06-14  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use smaller partitions for testing.

2011-06-13  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Improve comments in tests.

2011-06-10  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Limit the data list to < 80 chars, didn't improve readability though.

2011-06-10  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Clean up tests and put partition size and offsets in variable, after review comments. Thanks for the tip, Guilherme.

2011-06-09  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add test for get_android_loopback_devices().

2011-06-08  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add test for calculate_android_partition_size_and_offset.

2011-05-31  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Ignore the extended partition info.

2011-05-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Get partition info for Android image.

2011-05-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Sector size as constant.

2011-05-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Replace 512 with SECTOR_SIZE constant.

2011-05-30  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* setup.py:

	Merge trunk.

2011-05-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Assert that all partitions are found.

2011-05-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/partitions.py:

	Use loopback devices for image file.

2011-05-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/partitions.py:

	Add --image_size option too.

2011-05-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:

	Change --no-part check to match command line options.

2011-05-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/partitions.py:

	Add --image_file option to linaro-android-media-create

2011-05-26  James Westby  <james.westby@linaro.org>

	* setup.py:

	Post-release version bump to 0.4.8.1

2011-05-26  James Westby  <james.westby@linaro.org>

	* setup.py:

	Release 0.4.8

2011-05-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Quote the setenv arguments in boot.scr to avoid u-boot limits.

2011-05-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Use single quotes to avoid escaping. Thanks Guilherme.

2011-05-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add a test for the quoting behaviour.

2011-05-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Use double quotes around setenv arguments.

2011-05-25  James Westby  <james.westby@linaro.org>

	* setup.py:

	Post-release version bump to 0.4.7.1

2011-05-25  James Westby  <james.westby@linaro.org>

	* setup.py:

	Release 0.4.7

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/hwpack/tests/test_script.py:

	Drop the unused doctest import.

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-create:
	* linaro_image_tools/hwpack/tests/test_script.py:

	Fix the logging output in linaro-hwpack-create.

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/hwpack/tests/test_script.py:

	Add a test for the log output.

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-create:

	Fix the logging output from linaro-hwpack-create.

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:

	Allow hwpacks to remove packages from the assume-installed set.

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:

	Cleanups from review. Thanks Guilherme.

2011-05-25  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:

	Allow packages in hwpacks to remove packages from the rootfs.

2011-05-24  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~rsalveti/linaro-image-tools/beagle-mpurate; Add mpurate=${mpurate} kernel boot argument for Beagle Board.

2011-05-23  Ricardo Salveti de Araujo  <ricardo.salveti@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	linaro_image_tools/media_create/boards.py: adding mpurate=${mpurate} argument for beagle

2011-05-23  Mattias Backman  <mattias.backman@linaro.org>

	* do-release:

	Make do-release script remove possibly remaining .testrepository dir.

2011-05-23  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Post-release version bump to 0.4.6.1

2011-05-23  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Release 0.4.6

2011-05-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~doanac/linaro-image-tools/overo-updates; clean up no longer needed video settings for Overo.

2011-04-21  Andy Doan  <andy.doan@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	allow expansion of variables in boot args
	
	The boot args were quoted, so u-boot wasn't expanding the
	variables properly.
	
	This also changes Overo to pull in the MPU rate from u-boot. We
	want to eventually let the kernel determine this. The support is
	not yet there for it though

2011-04-20  Andy Doan  <andy.doan@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	set VRAM value for Overo
	
	From Linux kernel documentation:
	"VRFB rotation requires much more memory than non-rotated framebuffer"
	
	I'm updating this to be 12M which is the default value used in
	u-boot's mmcboot logic for this

2011-04-20  Andy Doan  <andy.doan@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	revert commit 289. There kernel now has OMAP support for
	EDID which can probe for the best resolution to use.

2011-05-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~asac/linaro-image-tools/panda-display-vram-24m; allocate more memory for Panda 1080p resolution.

2011-05-23  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change test to match new mem values. Remove quotes to be consistent with Beagle and Overo configs.

2011-05-22  Alexander Sack  <asac@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	linaro_image_tools/media_create/boards.py: allocate 48M vram and 0:24M for first screen for 1080p resolution

2011-05-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:

	Make sure that the --mmc option cannot be used for the snowball_emmc board config, as that usage would be confusing.

2011-05-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:

	Block --mm option for SnowballEmmcConfig since this config does not make sense to write to an mmc.

2011-05-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Initial support for ST-Ericsson Snowball based on an implementation by Tony Mansson and Hans Odeberg.
	
	This adds the BoardConfig classes SnowballSdConfig and SnowballEmmcConfig. Start files for the Snowball boot loader partition is contained in the hwpack along with a startfiles.cfg files which describes them.

2011-05-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Remove Snowball_Emmc test which is not working.

2011-05-20  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Assert that toc file is not larger than the size reserved for it. Add comment to remember that more sanity checks are needed.

2011-05-20  Mattias Backman  <mattias.backman@linaro.org>

	* snowball_toc.txt:
	* linaro_image_tools/media_create/boards.py:

	Change name of config file to startupfiles.cfg per Tony's suggestion. Remove the example file and assume that the config file unpacks to the same location as startup files.

2011-05-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change SnowballSdcardConfig to SnowballSdConfig and change SnowballImage to SnowballEmmcConfig.

2011-05-19  Mattias Backman  <mattias.backman@linaro.org>

	* snowball_toc.txt:
	* linaro_image_tools/media_create/boards.py:

	Magic data in external file.

2011-05-19  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* snowball_toc.txt:

	Explicitly specify all toc entries in data file.

2011-05-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Break a long line.

2011-05-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Merge toc field names change.

2011-05-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Move startup files config file name into constant.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* snowball_toc.txt:

	Temp add the toc text file for convenience.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Break out toc data into file.

2011-05-18  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Make parameters in create_toc match the names of TOC fields according to the spec.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Use tempfile for temporary toc file.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Removed some unused item in install_snowball_boot_loader.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add comment to explain format string. Note spec and code seems to not match.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Remove variable item which was only temporary storage.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Remove unused tuple item 'sz'.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Change iteration in get_file_info a little.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Move functions install_snowball_boot_loader, create_toc and get_file_info into SnowballImageConfig since they are specific to Snowball.

2011-05-16  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Rename LOADER_START_S to SNOWBALL_LOADER_START_S

2011-05-13  Tony Mansson  <tony.mansson@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Initial Snowball support

2011-05-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/utils.py:

	Merge lp:~lool/linaro-image-tools/pyflakes-fixes-of-the-day; fixes some
	warnings reported by pyflakes and run pyflakes as part of the testsuite if
	available.

2011-05-10  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/tests/test_pyflakes.py:
	* linaro_image_tools/tests/__init__.py:

	Run pyflakes if it's installed and the tests are being run from a source tree.

2011-05-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/utils.py:

	Break a new has_command() out of ensure_command().

2011-05-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/tests/test_config.py:

	Assert that the created config isn't None; has the nice side effect of
	silencing a pyflakes warning.

2011-05-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/packages.py:

	Remove unused proc variable.

2011-05-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add an assert to a test which has the nice side effect of silencing a pyflakes
	warning.

2011-05-06  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/no-size-suffix; fixes support for
	--image_size without an unit suffix.

2011-05-06  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/partitions.py:

	Use nicer construct to test if a char is a digit.

2011-05-06  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add support for --image_size without any unit; LP: #778426.

2011-05-05  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro-media-create:

	Fix leftover "!= 0:"; thanks Matt Waddel; LP: #777938.

2011-05-02  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Install hwpack with --force-yes if hwpack integrity has been verified.

2011-05-02  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:

	Remove message and exit that can never be reached.

2011-04-29  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/chroot_utils.py:

	Use os.path.basename() instead of split().

2011-04-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Set hwpack-force-yes for hwpacks with verified signature.

2011-04-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:

	Use communicate() when checking sha1 hashes to get command output.

2011-05-02  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/check_device.py:

	Print the list of devices sorted alpabetically.

2011-04-28  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/check_device.py:

	Sort devices before printing them.

2011-04-29  Lo√Øc Minier  <lool@dooz.org>

	* README:
	* linaro-android-media-create:
	* linaro-media-create:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/drop-qemu-img; removes the need for qemu-img
	from the qemu-kvm package (uses dd instead); LP: #772264.

2011-04-29  Lo√Øc Minier  <loic.minier@linaro.org>

	* README:

	Drop mention of qemu-kvm in required packages in the README; rename
	qemu-kvm-extras-static to qemu-user-static and kill obsolete links.

2011-04-29  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Convert the testsuite to also use dd instead of qemu-img.

2011-04-29  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix missing count=0 in dd calls and a mention of qemu-img in the testsuite's
	comments.

2011-04-29  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro-android-media-create:
	* linaro-media-create:

	Don't require qemu-img any longer; LP: 772264.

2011-04-29  Lo√Øc Minier  <loic.minier@linaro.org>

	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Use dd instead of qemu-img to create sparse files.

2011-04-27  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Post-release version bump to 0.4.5.1

2011-04-27  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Release 0.4.5

2011-04-27  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Include linaro-android-media-create in release.

2011-04-27  James Westby  <james.westby@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Optionally check signatures on hwpacks and images.

2011-04-27  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:

	Replace magic number with len(.asc) and change error messages.

2011-04-27  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:

	Remove error printouts.

2011-04-26  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Make signature list default be empty list to avoid having to check for None.

2011-04-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Make checking signatures optional.

2011-04-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:

	Check that a signature file for each hwpack is passed.

2011-04-21  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/__init__.py:

	Exit if gpg signature or archive hash cannot be verified.

2011-04-26  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/android_boards.py:
	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Move to boottarball for Android images.

2011-04-22  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_boards.py:

	Share more between the two bootscript

2011-04-22  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_boards.py:

	Fix umount error
	
	Fix the error of umount: device is busy by close the file

2011-04-22  jeremy.chang@linaro.org

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:

	Use import to replace the duplicatd code

2011-04-21  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_boards.py:

	android_board.py: fix boot env
	
	change bootcmd property to _get_bootcmd method

2011-04-19  jeremy.chang@linaro.org

	* linaro-android-media-create:

	l-a-m-c: Remove unused ROOTFS_DIR

2011-04-19  jeremy.chang@linaro.org

	* linaro-android-media-create:

	linaro-android-media-create: remove the unnecessary and wrong import of install_hwpacks

2011-04-18  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_boards.py:

	Android kernel cmdline support added
	
	Take the cmdline file (in boottarball) into account when creating parameters 
	for the kernel.

2011-04-18  jeremy.chang@linaro.org

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/android_boards.py:

	generate boot.scr in android boot partition

2011-04-12  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_boards.py:
	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Create separate config classes for android
	
	get rid of the image type check.

2011-04-11  jeremy.chang@linaro.org

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Introduce boottarball to android to replace the roottarball
	
	rootfs partition is deprecated that is replaced by ramdisk image.
	
	Argument changed to as the example:
	$ linaro-android-media-create --dev beagle --system system.tar.bz2 \
	--userdata userdata.tar.bz2 --boot boot.tar.bz2 --mmc /dev/sdb

2011-04-22  Lo√Øc Minier<loic.minier@linaro.org>

	* linaro-android-media-create:

	Fix linaro-android-media-create imports: import media_create.chroot_utils
	instaed of hwpack, and drop unused and unavailable populate_boot import;
	LP: #768790.

2011-04-21  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Post-release version bump to 0.4.4.1

2011-04-21  Mattias Backman  <mattias.backman@linaro.org>

	* setup.py:

	Release 0.4.4

2011-04-21  Mattias Backman  <mattias.backman@linaro.org>

	* do-release:

	Tests are now in module linaro_image_tools.

2011-04-21  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	TestBootSteps.make_boot_files(): only return a d_img_data if the BoardConfig
	defines a dtb_name.

2011-04-21  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Don't call make_dtb() on Samsung or pass a d_img_data file in the testsuite as
	this board doesn't set DTB config vars for now.

2011-04-21  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:

	Raise an assertion error when _get_bootcmd() is called with a d_img_data but
	cls.dtb_addr is None.

2011-04-20  James Westby  <james.westby@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge changes to s5pv310 support:
	
	- Use the new s5pv310 u-boot.
	- Load from the FAT partition like most other boards.

2011-04-20  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fixed merge conflicts

2011-04-19  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add in Loic's changes

2011-04-09  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge install_smdkv310_boot_env(), install_smdkv310_spl(), and
	install_smdkv310_uboot() into Samsung's make_boot_files(); simplifies reading.

2011-04-09  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	make_uImage and make_uInitrd return _run_mkimage() again.

2011-04-09  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Drop count= from the _dd() call in install_smdkv310_boot_env() too as the size
	of the input file is guaranteed already and this might hide issues.

2011-04-09  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Drop unused Samsung constants and asserts.

2011-04-09  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Drop count= from _dd() call in install_smdkv310_spl(); this was only needed
	when copying parts of the source file, but now the whole file should be copied.

2011-04-09  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:

	Update comments for Samsung implementation.

2011-04-06  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix test cases the Samsung smdkv310

2011-04-06  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	SMDKv310 u-boot can load from a FAT partition some remove the old code 
	that wrote directly to the MMC card

2011-04-05  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Fix broken merge and remove redundant line

2011-04-05  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro-android-media-create:
	* linaro-media-create:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/tests/fixtures.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/chroot_utils.py:

	Fix merege conflict

2011-03-31  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Remove debugging code

2011-03-31  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Update Samsung BL0 and BL1 comments 
	Remove u-boot comment as it is no longer valid

2011-03-30  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change the tools to use the new SPL + uboot method
	Fat and ext2 are enabled to load the kernel

2011-04-18  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~shawnguo/linaro-image-tools/add-dtb; adds support for device tree
	binaries.

2011-04-15  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix lines longer than 80 characters introduced by dtb changes

2011-04-15  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Change @classproperty bootcmd to @classmethod _get_bootcmd, and pass
	full path name of .dtb file, so that we can get the correct bootcmd
	with .dtb being optional.

2011-04-14  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Change DT_GLOB to DTB_GLOB to include dtb_name, so that the meaning
	of 'dtb' and 'cls.dtb_name' in _get_kflavor_files can be clear.

2011-04-14  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Improve _get_kflavor_files comment to state that dtb is optional

2011-04-12  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Address the following review comments from Loic
	
	* make .dtb presenting optional
	* keep 'igep' unchanged and add isee-igep-v2.dtb for it
	* make bootcmd(cls) a little simpler
	* keep mx51 addresses unchanged and align mx53 with it
	* add tests for dtb related functions

2011-04-11  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add dtb support for omap and mx5 based boards

2011-04-10  Shawn Guo  <shawn.guo@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Align mx51 offset of kernel_addr and initrd_addr with mx53

2011-04-11  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Tweak first RAM size on Panda to be a multiple of 8 MiB; see LP #633227.

2011-04-07  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Drop ip=none from Panda board cmdline args; dangerous option to include by
	default according to Steve Langasek.

2011-04-07  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~hrw/linaro-image-tools/more-ram-for-pandaboard; gives more RAM on
	Panda boards; LP: #707047.

2011-04-06  Marcin Juszkiewicz  <marcin.juszkiewicz@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	pandaboard: enable 463+512MB ram configuration
	
	Current Linaro kernel (2.6.38-1207) kernel works fine with this setup. I did
	some builds on my EA1 board without problems. Machine is running 24/7 with
	rootfs stored on usb harddrive.
	
	Memory hole is required for DSP and 2d/3d acceleration stuff.

2011-04-07  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~mabac/linaro-image-tools/bug-744857; adds support for multiple kernel
	flavors, in particular for i.MX53, i.MX51 (LP #744857) and OMAP4 (LP #720114);
	also properly fixes U8500 support (LP #737173).

2011-04-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Remove blank line, sort kernel_flavors and add test for _get_kflavor_files not finding files.

2011-04-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/packages.py:

	Fix deprecation warning. Unrelated but maybe I can sneak it in here.

2011-04-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/packages.py:

	Fix deprecation warning for package.isInstalled.

2011-04-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/hwpack/tests/test_packages.py:

	Merge from trunk.

2011-04-06  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Add kernel_flavor 'omap4' for linaro-m hwpack bsp-omap4.

2011-04-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Move looking up kernel and initrd files to make_boot_files().

2011-04-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro-android-media-create:
	* linaro-media-create:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/tests/fixtures.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/chroot_utils.py:

	Merge from trunk.

2011-04-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix tests by mocking _get_kflavor_files.

2011-04-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lool's changes for _get_kflavor_files.

2011-04-05  loic.minier@linaro.org

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fix _get_kflavor_files tests to pass by creating a temp dir and a derived class
	rather than temp files and a BoardConfig instance.

2011-04-05  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Restore uImage_file and uInitrd_file in Samsung V310 code.

2011-04-05  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Rename _get_kflavor_file to _get_kflavor_files and change it to only take a
	base directory to search the kernel and initrd files and return these.

2011-04-05  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Move BoardConfig.kernel_base and .initrd_base to global constants named
	KERNEL_GLOB and INITRD_GLOB.

2011-04-05  loic.minier@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Fix typo: use initrd_base instead of kernel_base for initrd.

2011-04-05  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Make the changes to _make_boot_files.

2011-04-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add get_kflavor_file function.

2011-04-04  Mattias Backman  <mattias.backman@linaro.org>

	* linaro_image_tools/media_create/boards.py:

	Change kernel_suffix to kernel_flavors.

2011-04-05  loic.minier@linaro.org

	* linaro_image_tools/hwpack/tests/test_packages.py:

	Typo: cumalative instead of cumulative.

2011-04-05  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Add a couple XXX/TODO comments for things that need to be fixed.

2011-04-05  Alexander Sack  <asac@linaro.org>

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:

	Merge lp:~jeremychang/linaro-image-tools/android adding experimental linaro
	android platform image support; LP: #724207

2011-04-01  jeremy.chang@linaro.org

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:

	Add android_board_configs to indicate the supported boards for android
	
	We would like to support beagle and panda first!

2011-04-01  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Add get_android_sfdisk_cmd function
	
	apart from the get_sfdisk_cmd function cause no much reuse code and to make 
	it clean.

2011-04-01  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/partitions.py:

	Give it a loop over formating same kind partitions

2011-04-01  jeremy.chang@linaro.org

	* linaro-android-media-create:

	umount android partitions in cleanup function
	
	Umount system, cache, data, sdcard partitions 

2011-03-31  jeremy.chang@linaro.org

	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/partitions.py:

	Add a EXPERIMENTAL banner for linaro-android-media-create
	
	Refine the parameters parser to claim linaro-android-media-create only supports
	mmc device.

2011-03-31  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/partitions.py:

	Recover the unneeded Keyword arguments change.
	
	Keyword arguments have defaults in Python

2011-03-31  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Fix regression bug, UnboundLocalError in get_sfdisk_cmd in boards.py

2011-03-30  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/android_init.py:
	* linaro-android-media-create:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/partitions.py:

	Clean up the android code
	
	Remove redundant code, android_boards.py and android_init.py
	
	Modify the import path in linaro-android-media-create due to rebased the trunk.
	
	Change the author of linaro-android-media-creat

2011-03-23  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/partitions.py:

	Change sdcard partition to vfat format

2011-03-16  jeremy.chang@linaro.org

	* linaro_image_tools/media_create/android_init.py:

	Change android rootfs partition default format to ext4

2011-03-09  jeremy.chang@linaro.org

	* setup.py:

	Install linaro-android-media-create
	
	Add linaro-android-media-create in setup.py

2011-03-08  jeremy.chang@linaro.org

	* linaro-android-media-create:
	* linaro_image_tools/media_create/android_boards.py:
	* linaro_image_tools/media_create/android_init.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:

	Add Android images deployment support
	
	How to run example:
	$ sudo ./linaro-android-media-create --dev beagle --system system.tar.bz2 \
	--userdata userdata.tar.bz2 --root root.tar.bz2 --mmc /dev/sdb
	
	Partitions layout:
	+ boot (vfat) - 128M - not mounted
	+ rootfs (ext4) - 128M - mounted: /
	+ system (ext4) - 256M - mounted /system
	+ cache (ext4) - 256M - mounted /cache
	+ userdata (ext4) - 512M - mounted /data
	+ sdcard (ext4) - rest of size - mounted as /sdcard
	
	This patch includes:
	* Create and format partitions.
	* Untar root.tar.bz2 system.tar.bz2, userdata.tar.bz2 and move the 
	content to the corresponding partitions.
	
	The content of the boot partition and the hwpack option is not considered here
	yet.

2011-04-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Mock os.getuid() in test_append_to_fstab() to avoid calling sudo in the tests.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/fixtures.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/chroot_utils.py:

	Merge lp:~lool/linaro-image-tools/btrfs-support; various improvements to the
	btrfs support and related fixes:
	- set proper fstab mount options; LP: #745771
	- install btrfs-tools if missing; LP #715932
	- fix missing final newline in fstab; LP: #745728

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/chroot_utils.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Run apt-get clean after installing packages.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add newline to all lines appended to etc/fstab; add tests for append_to_fstab;
	LP: #745728.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Silence install_packages() output in tests.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/chroot_utils.py:

	Add some message while installing packages in the chroot, and fix the
	linaro-hwpack-install message to not mention apt-get.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add rootfs_mount_options() helper for the mount options to use in fstab
	depending on the rootfs; add tests; LP: #745771.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/chroot_utils.py:

	Rename linaro_image_tools.media_create.hwpack to chroot_utils as it also
	contains a helper to install packages.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Factor tests for mkfs.fs commands and raise an error for unknown rootfs types.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Install btrfs-tools in the chroot when creating a btrfs rootfs; LP: #715932.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Add test for media_create.hwpack.install_packages().

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/hwpack.py:

	Add install_packages function to apt-get install some packages in the chroot.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_cmd_runner.py:

	Remove unused vars.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Don't repeat the prepare_chroot() testing in test_install_hwpacks(), just check
	that it was called with proper args; refactor some media_create.hwpack tests to
	work with arbitrary chroot and tmp dirs.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/tests/fixtures.py:

	Test whether .wait() (or .communicate()) was run for every Popen() object, not
	just the last one.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Split off generic parts from install_hwpacks() into a new prepare_chroot();
	update tests.

2011-04-04  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/tests/test_cmd_runner.py:

	Add chroot support to cmd_runner.run() and use it to install hwpacks.

2011-04-04  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Unbreak generation of vexpress images

2011-04-04  matt.waddel@linaro.org

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Fixes number of parameters in call to make_boot_files() in the test code

2011-04-04  matt.waddel@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Removes potentially uninitialized variable, boot_script_path, from calls to make_boot_files()

2011-04-01  matt.waddel@linaro.org

	* linaro_image_tools/media_create/boards.py:

	Prevents uninitialized string from being passed to make_boot_files() in the vexpress

2011-04-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:

	Merge lp:~lag/linaro-image-tools/lt-ux500-support but change glob from "u*500"
	to "u?500"; fixes support for new name of vmlinuz file in U8500 hwpack;
	LP: #737173.

2011-03-07  Lee Jones  <lee.jones@linaro.org>

	* linaro_media_create/boards.py:

	Include support for the new u8500 hardware pack

2011-03-29  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:

	Update tests for new mx51 initrd address.

2011-03-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:

	Merge lp:~jcrigby/linaro-image-tools/mx51-initrd_addr-fix; makes sure the
	kernel and initrd addresses are sufficiently far apart; bump initrd to
	0x92000000 which is 32 MiB away from the kernel.

2011-03-17  John Rigby  <john.rigby@linaro.org>

	* linaro_media_create/boards.py:

	make initrd_addr for mx5 larger

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/utils.py:

	Merge lp:~lool/linaro-image-tools/missing-sbin; fixes runs of the testsuite
	when /sbin isn't in the PATH; LP: #709517.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/tests/test_cmd_runner.py:

	Expose default path of sanitize_path() as to help testing and add tests for
	sanitize_path().

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/testing.py:
	* linaro_image_tools/tests/fixtures.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/media_create/populate_boot.py:
	* linaro-media-create:
	* linaro_image_tools/hwpack/packages.py:
	* linaro_image_tools/hwpack/testing.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/media_create/cmd_runner.py:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/utils.py:
	* linaro_image_tools/utils.py:

	Merge lp:linaro-image-tools; update cmd_runner import path.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/packages.py:

	Use cmd_runner instead of subprocess, this ensures that a sane PATH is used.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/utils.py:

	Sanitize path with cmd_runner's helper rather than reinventing it.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/utils.py:

	Bug: find_command() was setting os.environ['PATH'] to ":/bin:usr/bin" if unset,
	but this means that the current directory was searched first unconditionally
	even when calling linaro-image-tools system-wide.  Later logic in
	find_command() correctly prepends the current directory when needed, so it was
	useless and incorrect to include . in the PATH by default.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/cmd_runner.py:

	Factor handling of unset PATH and default PATH in the common case.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/cmd_runner.py:

	Fix handling of empty PATH; this actually means that the current directory
	should be searched, and not that PATH is empty.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/cmd_runner.py:

	Actually make sure that any of the directories typically found in the PATH are
	added if missing; this will ensure that commands which we call and which are
	typically in /usr/bin are also in the PATH, and that commands from
	linaro-image-tools which might have been installed under /usr/local are also in
	the PATH.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/cmd_runner.py:

	Move PATH sanitization to a function and call that from Popen.__init__(); note
	that:
	- this regresses the hwpack testsuite as it uses subprocess.Popen directly, so
	that a broken PATH might not be fixed up
	- due to the media_create code doing a os.environ.copy() before os.environ
	being sanitized, this requires sanitizing both os.environ and the env copy
	passed to Popen()

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/cmd_runner.py:

	Set os.environ['PATH'] if unset or empty; append /sbin to it if missing;
	LP: #709517.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/testing.py:
	* linaro_image_tools/tests/fixtures.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro-media-create:
	* linaro_image_tools/hwpack/testing.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/media_create/cmd_runner.py:
	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/utils.py:
	* linaro_image_tools/utils.py:

	Merge lp:~lool/linaro-image-tools/testsuite-when-installed-v2:
	- allows running the hwpack testsuite from installed sources; LP: #711312
	- correctly finds linaro-hwpack-install when installed to /usr/local;
	LP: #710104
	- tidies up code and code layout

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:

	Use cmd_runner.SUDO_ARGS instead of importing it; tidy up imports.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:

	Revert parts of r309; use MockCmdRunnerPopenFixture.mock.commands_executed
	instead of .calls for clarity in the test cases, and simply define sudo_args
	from SUDO_ARGS.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:

	Move duplicated preferred_tools_dir helper to linaro_image_tools.utils; this
	still works because linaro_image_tools.utils' __file__ is still a relative
	path.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/testing.py:
	* linaro_image_tools/hwpack/testing.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:

	Move TestCaseWithFixtures from linaro_image_tools.hwpack.testing to testing as
	it's used in more places than hwpack.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/tests/fixtures.py:

	Fix typo: "tht" instead of "the".

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/tests/fixtures.py:

	Drop unused imports.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:

	Move CreateTempDirFixture, MockSomethingFixture, MockCmdRunnerPopen and
	MockCmdRunnerPopenFixture from linaro_image_tools.media_create.tests.fixtures
	to tests.fixtures as these are used outside of media_create.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/tests/test_utils.py:

	Expose cmd_runner's 'sudo -E' args for use in tests; convert most tests to use
	an array of args rather than a string.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/cmd_runner.py:
	* linaro_image_tools/tests/test_cmd_runner.py:

	Add a test for and fix cmd_runner.run() with tuples.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/tests/test_cmd_runner.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/__init__.py:

	Split linaro_image_tools.cmd_runner tests out of
	media_create.tests.test_media_create into tests.test_cmd_runner.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/populate_boot.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/tests/test_utils.py:
	* linaro_image_tools/utils.py:
	* linaro_image_tools/media_create/cmd_runner.py:
	* linaro_image_tools/cmd_runner.py:

	Move linaro_image_tools.media_create.cmd_runner to
	linaro_image_tools.cmd_runner as it's used in linaro_image_tools.utils and
	generally useful anyway.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/tests/test_utils.py:
	* linaro-media-create:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/tests/__init__.py:

	Split linaro_image_tools.utils tests out of
	media_create.tests.test_media_create into tests.test_utils; some code
	duplication for now.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/tests/test_script.py:

	Drop unused "os" import.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/utils.py:
	* linaro_image_tools/utils.py:

	Move linaro_image_tools.media_create.utils to linaro_image_tools.utils.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/hwpack/tests/test_script.py:

	Use media_create.find_command instead of custom find_script as it works
	better to run the testsuite on an installed system; LP: #711312.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/utils.py:

	Merge lp:~lool/linaro-image-tools/really-automatic-apt; fixes automatic
	installation of missing packages when APT pulls multiple packages; LP: #741638.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/utils.py:

	Pass --yes to apt-get when automatically installing packages for missing
	commands, this is needed when more than one package would get installed;
	LP: #741638.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/populate_boot.py:
	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/move-populate-boot; move populate_boot() from
	media_create.populate_boot to media_create.boards.BoardConfig; LP: #716469.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:

	Rename boot_script to boot_script_path when passing a pathname.

2011-03-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/boards.py:

	Simplify boot_script_path computation.

2011-03-23  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools/media_create/populate_boot.py:
	* linaro-media-create:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:

	Move populate_boot() from media_create.populate_boot to
	media_create.boards.BoardConfig; LP: #716469.

2011-03-23  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools:
	* linaro_image_tools/__init__.py:
	* .testr.conf:
	* COPYING:
	* linaro-hwpack-create:
	* linaro-media-create:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/testing.py:
	* linaro_image_tools/hwpack/tests/__init__.py:
	* linaro_image_tools/hwpack/tests/test_better_tarfile.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/hwpack/tests/test_tarfile_matchers.py:
	* linaro_image_tools/hwpack/tests/test_testing.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/check_device.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/populate_boot.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/__init__.py:
	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/media_create/utils.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/tests/integration.txt:
	* hwpack:
	* linaro_image_tools/hwpack:
	* linaro_media_create:
	* linaro_image_tools/media_create:
	* tests:
	* linaro_image_tools/tests:

	Merge lp:~lool/linaro-image-tools/shuffle-modules; move modules to to
	linaro_image_tools.* to allow sharing code; LP: #711310.

2011-03-23  Lo√Øc Minier  <lool@dooz.org>

	* linaro_image_tools:
	* linaro_image_tools/__init__.py:
	* .testr.conf:
	* COPYING:
	* linaro-hwpack-create:
	* linaro-media-create:
	* linaro_image_tools/hwpack/builder.py:
	* linaro_image_tools/hwpack/hardwarepack.py:
	* linaro_image_tools/hwpack/testing.py:
	* linaro_image_tools/hwpack/tests/__init__.py:
	* linaro_image_tools/hwpack/tests/test_better_tarfile.py:
	* linaro_image_tools/hwpack/tests/test_builder.py:
	* linaro_image_tools/hwpack/tests/test_config.py:
	* linaro_image_tools/hwpack/tests/test_hardwarepack.py:
	* linaro_image_tools/hwpack/tests/test_packages.py:
	* linaro_image_tools/hwpack/tests/test_script.py:
	* linaro_image_tools/hwpack/tests/test_tarfile_matchers.py:
	* linaro_image_tools/hwpack/tests/test_testing.py:
	* linaro_image_tools/media_create/__init__.py:
	* linaro_image_tools/media_create/boards.py:
	* linaro_image_tools/media_create/check_device.py:
	* linaro_image_tools/media_create/hwpack.py:
	* linaro_image_tools/media_create/partitions.py:
	* linaro_image_tools/media_create/populate_boot.py:
	* linaro_image_tools/media_create/rootfs.py:
	* linaro_image_tools/media_create/tests/__init__.py:
	* linaro_image_tools/media_create/tests/fixtures.py:
	* linaro_image_tools/media_create/tests/test_media_create.py:
	* linaro_image_tools/media_create/unpack_binary_tarball.py:
	* linaro_image_tools/media_create/utils.py:
	* linaro_image_tools/tests/__init__.py:
	* linaro_image_tools/tests/integration.txt:
	* hwpack:
	* linaro_image_tools/hwpack:
	* linaro_media_create:
	* linaro_image_tools/media_create:
	* tests:
	* linaro_image_tools/tests:

	Shuffle modules to be under the same hierarchy:
	- linaro_media_create -> linaro_image_tools/media_create
	- hwpack -> linaro_image_tools.hwpack
	- tests -> linaro_image_tools.tests
	this will notably give us a place to share code between
	linaro_image_tools.media_create and .hwpack.

2011-03-18  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/efikasb-support; adds support for EfikaMX
	SmartBook and cleans up i.MX5x support.

2011-03-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Create a Mx51Config derived from Mx5Config and move load addresses and kernel
	flavor specific to i.MX51 to Mx51Config; also introduce a Mx53Config derived
	from Mx5Config and merge i.MX53 data from Mx53LocoConfig into it.  Update tests
	to use Mx5 or Mx51 correctly.

2011-03-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Rename i.MX5 to i.MX5x in comment.

2011-03-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	TestBootSteps.test_mx5_steps(): create a fake Mx5Config instead of using
	Mx51evkConfig.

2011-03-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Add support for EfikaMX SmartBook (efikasb).

2011-03-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/chs-align-tests; don't hardcode heads and
	sectoes in tests.

2011-03-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Use HEADS and SECTORS from partitions.py in tests.

2011-03-12  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/igep-support; couple of tests relative to
	IGEP.

2011-03-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge with lp:linaro-image-tools; rework tests for new bootcmd/bootargs dict.

2011-02-12  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add tests for IGEP.

2011-03-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/chs-align; use 128 heads and 32 sectors;
	should avoid some warnings from disk partitioning tools.

2011-03-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge with lp:linaro-image-tools and fix conflicts.

2011-02-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	We try to align partition start/end offsets to 4 MiB, but we had stopped making
	any effort to align to CHS boundaries and were always using 255 heads and 63
	sectors.  Since this causes warnings with partitioning tools and since we can
	use any geometry we like, use 128 heads and 32 sectors as geometry which gives
	us 2 MiB cylinders and means partitions will end/start on cylinder boundaries
	most of the time.

2011-03-09  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/tests/test_media_create.py:

	Change cmd_runner.run() to always pass -E to sudo

2011-03-09  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	merge trunk

2011-03-09  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/tests/test_media_create.py:

	Change cmd_runner.run() to always pass -E to sudo

2011-03-09  James Westby  <james.westby@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Add support for the smdkv310. Thanks Angus.

2011-03-05  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge in Guilherme suggestions for Loic's brnach

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Make sure an assertion is raised if the environment size is smaller than the
	generated environment; also change the code to do a single struct.pack() call
	instead of one call per byte to pad.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	make_flashable_env: sort env_strings to have reliable ordering.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add test for make_flashable_env().

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Rename tempfile to tmpfile to allow importing tempfile.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Implement size checks in install_smdkv310_uImage and install_smdkv310_initrd
	and document why they aren't needed in install_smdkv310_boot_env.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Simplify _dd docstring a bit.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Change the _get_bootcmd classmethod to a bootcmd classproperty; thanks
	Guilherme Salgado.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Remove unused import causing a lot of pyflakes errors.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add testcase for the mx5 bootloader being too big.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Fix size check for mx5_boot_loader to use the LOADER constant rather than BOOT.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Check size of imx_file is smaller than guaranteed bootloader partition size in
	install_mx5_boot_loader(); update testsuite to pass a real file to allow
	os.path.getsize() to work.

2011-03-02  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	fix review comments from salgado

2011-03-02  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/tests/test_media_create.py:

	add the temp_dir logic back in that I removed during the last merge 

2011-03-02  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	merge to trunk

2011-03-01  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/tests/test_media_create.py:

	Fixup partition tests for new partition sizes.
	Remove duplicate Samsung SMDK v310 test

2011-03-01  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	Remove duplicate EfikaMX classes 

2011-03-01  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	Remove duplicate Samsung board definition from merge
	Add constants reserved length  and copy length for the Samsung uinitrd

2011-03-01  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	merge in samsung-v310-v2

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Use proper initrd size of 6 MiB instead of 100 MiB for Samsung, and use that
	in movi boot commands.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Don't hardcode kernel_addr and initrd_addr in Samsung movi commands.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Remove a couple of spaces.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Don't generate a boot.scr for now as it is unused and might be confusing.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Use chroot_dir consistently instead of mixing with root_dir.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Instead of passing boot commands around, just pass a boot_env dict.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Rename boot_cmd to boot_commands for clarity.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	SMDKV310Config: make env_size a regular variable in _make_boot_files() instead
	of a class variable as it's used only once.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Merge SMDKV310Config and SamsungConfig since there's only one board for now.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Consistent spacing between functions.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Drop seeminly useless make_boot_ini() return value.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Simplify _get_boot_commands() a bit.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge with lp:linaro-image-tools.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Ups, also rename _get_boot_cmd to _get_boot_commands in the testsuite.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Rename _get_boot_cmd to _get_boot_commands to avoid confusion with
	_get_bootcmd.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Don't align bootloader partition to 4 MiB boundary, instead start on the first
	sector possible, +1s.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Remove trailing spaces.

2011-03-01  Lo√Øc Minier  <lool@dooz.org>

	Fake merge with lp:~lool/linaro-image-tools/samsung-v310 as to show that these
	changes were merged.

2011-02-22  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Add TODOs to add missing checks.

2011-02-22  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Define and use a _dd() function to wrap dd.

2011-02-22  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Rework Samsung V310 partitioning:
	- don't use a boot partition since u-boot currently reads uImage/uInitrd from
	fixed offsets
	- avoid hardcoding partition lengths/offsets, use constants instead
	- limit dd's count when writing uImage and uInitrd

2011-02-21  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Use SECTOR_SIZE in install_mx51evk_boot_loader() instead of hardcoding 1024.

2011-02-21  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Use SECTOR_SIZE instead of hardcoding 512 in dd calls.

2011-03-01  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	merge in changes to the trunk

2011-02-28  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	incorporated Loic's conastant changes

2011-02-28  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Update bootcmd and bootargs
	Fixed tests for v310 board

2011-02-17  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	Remove commented out code and old comments

2011-02-17  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Finished fixing changes to partitons 
	Remove use_fat_partiton flag
	Added vfat partition to Samsung v310 build
	All boot binaries are generated to the boot partition but they are currently
	still loaded from raw MMC offsets.

2011-02-15  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/tests/test_media_create.py:

	fix broken smdkv310 tests

2011-02-15  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/tests/test_media_create.py:

	more review changes

2011-02-15  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	more review changes

2011-02-14  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	fix changes due to sfdisk command changes

2011-02-14  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge the latest linaro-media-tools into my branch

2011-02-10  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	fix bootm line so that initrd mounts

2011-02-10  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	Get rid of whitespace change

2011-02-10  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:

	Merge review changes

2011-02-10  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/tests/test_media_create.py:

	added tests for the SMDKv310 board

2011-02-09  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:

	Fix kernel load address and u-boot env

2011-02-08  Angus Ainslie  <angus.ainslie@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:

	Added Samsung SMDK V310 - doesn't quite boot yet

2011-03-08  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Merge lp:~lool/linaro-image-tools/share-omap; set kernel_suffix = 'linaro-omap'
	in OmapConfig instead of children classes.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Set kernel_suffix = 'linaro-omap' in OmapConfig instead of children classes.

2011-03-08  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Merge lp:~linaro-landing-team-freescale/linaro-image-tools/mx53-loco; adds
	support for i.MX53 LOCO board.

2011-03-08  Eric Miao  <eric.miao@linaro.org>

	* linaro_media_create/boards.py:

	Fix names of uboot_flavor and kernel_suffix

2011-03-07  Eric Miao  <eric.miao@linaro.org>

	* linaro_media_create/boards.py:

	Merged Loic's changes

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Drop now unused install_mx5_uboot().

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Let Mx53 use the Mx5 _make_boot_files() which is now identical.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Always require a non-padded u-boot.imx for Mx53.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Use cls.uboot_flavor instead of hardcoding 'mx53_loco'.

2011-03-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Convert tabs to spaces.

2011-03-05  Eric Miao  <eric.miao@linaro.org>

	* linaro_media_create/boards.py:

	Make use of Mx5Config as superclass for Mx53LoCoConfig

2011-03-01  Eric Miao  <eric.miao@linaro.org>

	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Merged lp:linaro-image-tools

2011-02-28  Eric Miao  <eric.miao@linaro.org>

	* linaro_media_create/boards.py:

	Add preliminary support for Freescale i.MX53 LoCo board

2011-03-03  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Saving of the plain boot script (boot.txt) on the boot partition was failing with a permission error; this fixes it.

2011-03-03  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Saving of the plain boot script (boot.txt) on the boot partition was failing with a permission error; this fixes it.

2011-03-01  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	l-m-c now stores the original boot script (before we feed it to mkimage) in the boot partition as boot.txt

2011-02-28  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Rename the plain-text boot script saved on the boot partition from boot.script to boot.txt

2011-02-09  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	l-m-c now stores the original boot script (before we feed it to mkimage) in the boot partition

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/efikamx; adds EfikaMX support.

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Be consistent and use "uboot" rather than "u_boot".

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	populate_boot(): assert that uboot_flavor is set when uboot_in_boot_part is.

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Fix TestPopulateBoot.prepare_config to create derived classes rather than
	using the passed class.

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	TestPopulateBoot: instead of testing with representative boards, test with
	specially crafted test configs.

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Share expected_call across TestPopulateBoot tests.

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Share expected_args across TestPopulateBoot tests.

2011-02-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add TestPopulateBoot.call_populate_boot() to avoid code repeating the
	populate_boot args.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Test install_omap_boot_loader().

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Test install_mx5_boot_loader().

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Don't instanciate BoardConfig classes.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Use Mx5Config() instead of mx51evk's config.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Fix TestPopulateBoot name clash which was hiding some tests.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	More consistent spacing.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Test populate_boot() with more board configs.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add tests for linaro_media_create.populate_boot.populate_boot().

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/populate_boot.py:

	Drop unused errno import.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/populate_boot.py:

	Run "mkdir -p" instead of using os.makedirs(); this might be less elegant, but
	it makes the code much simpler and easier to test as we don't need to create a
	place to run the os.makedirs() or to mock anything more than cmd_runner.

2011-02-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:

	Add a uboot_in_boot_part BoardConfig flag to decide whether u-boot.bin should
	be copied to the boot partition instead of just checking uboot_flavor; this
	allows using uboot_flavor consistently on mx5 boards.

2011-02-17  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Add support for EfikaMX smarttops.
	- rename mx51evk-related logic to share it across mx5-based boards
	- EfikamxConfig and Mx51evkConfig just set uboot_name (NB: uboot_flavor has a
	special omap-only meaning and hence wasn't suitable)

2011-02-23  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~doanac/linaro-image-tools/overo-video; enable Overo on 1024x768.

2011-02-22  Andy Doan  <andy.doan@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	update boot.scr for overo to support 1024x768 resolution

2011-02-14  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/4-mib-align; this reworks the way we create
	partitions and will align the rootfs partition on 4 MiB boundaries by default.
	It adds an --align-boot-part linaro-media-create flag to also align the boot
	partition in case your x-loader is recent enough to support this.

2011-02-14  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Fix typos in comments.

2011-02-14  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Closing triple double-quotes need to stand on their own line.

2011-02-14  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Convert align_up to a real function and add docstrings to align_partition()
	and align_up().

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Make sure boot partition has an even length in sectors (partition length is an
	entire number of KiBs) to please OMAP3 ROMs; these apparently don't care for
	the start sector, but do care for the length of the partition...  Update
	comments as well.

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Add --align-boot-part flag to force (4 MiB) alignment of boot partition.

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add tests for align_up and align_partition.

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Rework sfdisk commands again; completely bypass CHS calculations as they are
	irrelevant (see LP #626907 for discussion).
	- enforce some sensible sizes of >= 1 MiB, >= 50 MiB, and >= 50 MiB for
	(optional) bootloader partition, boot partition and root partition
	respectively
	- document partition layout in get_sfdisk_cmd()
	- update testsuite for new values

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge with lp:linaro-image-tools to pick up the partition rework changes.
	- adjust test_partition_numbering() to create a third partition at +24 MiB
	and to expect the linux part at +16 MiB
	- bump tempfile for sfdisk tests to 30M instead of 20M as to fit above test
	- adjust linux size in tests per above change

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Factorize the creation of a relatively common disk tempfile.

2011-02-11  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Add messages to asserts.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Align partitions at 4 MiB; this requires switching to sector addressing for
	sfdisk commands and is fairly intrusive.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/part-size-rework; fixes various issues with
	the partition-handling code; prepares the ground for aligned partitions.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add comment to test_partition_numbering().

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add test to make sure first partition after vfat is selected as the linux
	partition.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Drop tests which are probably useless after discussion -- let's not bloat the
	testsuite.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Remove debug print.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Add some tests to make sure rootfs is after bootfs and that partitions don't
	overlap.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:

	Add an explicit break when we find the linux partition as to not use a
	partition found afterwards.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:

	Add some helpful message in the "normal partition" assert.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:

	Fix weird line-wrapping of mine.

2011-02-10  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:

	Rework processing of parted partitions; when using partitions not aligned on
	cylinder boundaries, some "free space" partition is returned by the call to
	nextPartition(); this partition isn't the one we were actually looking for.
	This will be exercized by the testsuite once we move to 4 MiB aligned
	partitions.

2011-02-09  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Don't reset image_size_in_bytes to a cylinder-aligned size: we want to honor
	the requested image size, even if that means some padding.

2011-02-09  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Fix use of image_size instead of image_size_in_bytes when calling qemu-img.

2011-02-10  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	When --consoles is passed to l-m-c, append (instead of prepend) them to the list of serial options in the boot cmd (fixes bug #711255)

2011-02-10  Guilherme Salgado  <guilherme.salgado@linaro.org>

	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	When --consoles is passed to l-m-c, append (instead of prepend) them to the list of serial options in the boot cmd

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Factor the prefer_dir computation which had to be repeated in the previous
	merge.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	Merge lp:~lool/linaro-image-tools/testsuite-when-installed; allows running
	parts of the testsuite when installed system-wide.  Had to resolve a conflict
	in linaro-media-create and patch an additional install_hwpacks() call site.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	Default to os.getcwd() instead of "." as "." breaks with some
	ChdirToTempdirFixture based tests.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	More explicit handling of empty PATH components as "." in find_command.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/test_media_create.py:

	Pass a tools dir (preferred directory) to install_hwpacks; should be the
	directory of linaro-media-create when it's run with an explicit directory, or
	"." when running from a bzr checkout.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	Add an optional prefer_dir arg to find_command to allow searching a specific
	directory first.

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Test find_command().

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	Add and use find_command() which will search a linaro-image-tools command
	in the current directory if running from a bzr checkout or in PATH otherwise;
	this helps with running the testsuite on an installed system; LP: #709518.

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro-hwpack-install:
	* linaro-media-create:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/optional-sudo; allows running as root
	without calling sudo.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~lool/linaro-image-tools/lp-711573; fixes various issues introduced
	with optional-sudo merge, notably tracebacks in cleanup.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Always try to unmount ROOT_DISK, even if BOOT_DISK didn't unmount successfully.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Use cmd_runner.run() instead of .Popen() as the latter doesn't accept as_root.

2011-02-02  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Add missing cmd_runner module before SubcommandNonZeroReturnValue; LP: #711573.

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/fixtures.py:

	Fix testsuite breakage with reldir; was running the wrong testsuite. :-/

2011-02-01  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/test_media_create.py:

	Make sure we cleanup properly when install_hwpacks fails

2011-02-01  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/test_media_create.py:

	Add a test for hwpack.run_local_atexit_funcs() and fix an undefined name in it

2011-02-01  Guilherme Salgado  <salgado@canonical.com>

	* COPYING:
	* COPYING.GPL-2:
	* COPYING.GPL-3:
	* do-release:
	* .bzr-builddeb:
	* .bzr-builddeb/default.conf:
	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/python-hwpack.install:
	* debian/python-linaro-media-create.install:
	* debian/rules:
	* README:
	* hwpack/__init__.py:
	* hwpack/better_tarfile.py:
	* hwpack/builder.py:
	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* hwpack/tests/test_testing.py:
	* linaro-hwpack-create:
	* linaro-hwpack-install:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* linaro_media_create/utils.py:
	* setup.py:
	* tests/integration.txt:

	merge trunk

2011-01-31  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/tests/test_media_create.py:

	add test case for atexit fix

2011-01-26  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/hwpack.py:

	add exception handling to hwpack cleanup logic
	
	This will help ensure all exit functions are attempted even
	if one of them raises an exception

2011-01-25  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/hwpack.py:

	ensure local_atexit functions always run
	
	The local_atexit functions were only executing when
	the code ran as expected. We need exception handling
	to make sure we always clean up after ourselves

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/fixtures.py:

	Merge lp:~lool/linaro-image-tools/temp-tarball; fixes warnings when running
	testsuite.

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/fixtures.py:

	Make names "tarball" and "tarball.gz" configurable and move mkdir() to setUp()
	instead of __init__().

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/fixtures.py:

	Rework tarball creation to avoid these warnings:
	tar: Removing leading `/' from member names
	tar: /tmp/tmpNhHGL5: file changed as we read it
	
	To avoid this, we pass a new relative "tarball" subdirectory to tar instead of
	the absolute tempdir which contains the destination tarball itself.

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro-hwpack-install:
	* linaro-media-create:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/optional-sudo; makes usage of sudo optional
	so that one can run tools directly as root.

2011-01-29  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Mock getuid() when testing cmd_runner and test both the sudo needed and sudo
	not needed cases.

2011-01-29  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	linaro-media-create: Use linaro_media_create.cmd_runner's Popen rather than the
	one from subprocess; avoids hardcoding sudo in the commands.

2011-01-29  Lo√Øc Minier  <lool@dooz.org>

	* linaro-hwpack-install:

	linaro-hwpack-install: only call sudo when running as non-root.

2011-01-29  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/cmd_runner.py:

	cmd_runner: Don't prepend sudo if we're root.

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Post-release version bump to 0.4.3.1

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Release 0.4.3

2011-02-01  Lo√Øc Minier  <lool@dooz.org>

	* do-release:

	Bump version after release.

2011-02-01  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Fix bug 710971 by making sure OmapConfig.serial_tty is never used before set_appropriate_serial_tty() is called.

2011-02-01  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Some tweaks to the test added in the previous commit and add a safety net to avoid bugs similar to #710971

2011-01-31  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/tests/test_media_create.py:

	A test for the fix in the previous commit

2011-01-31  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:

	Fix the bug, but a test is tricky to write

2011-01-31  Guilherme Salgado  <salgado@canonical.com>

	* README:

	Mention sfdisk on the requirements to run the test suite

2011-01-29  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Remove useless import.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Post-release bump to 0.4.2.1.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Release 0.4.2

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* COPYING:
	* COPYING.GPL-2:
	* COPYING.GPL-3:
	* hwpack/__init__.py:
	* hwpack/better_tarfile.py:
	* hwpack/builder.py:
	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* hwpack/tests/test_testing.py:
	* linaro-hwpack-create:
	* linaro-hwpack-install:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* linaro_media_create/utils.py:

	Add license headers to all files

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* COPYING:

	Update the URL of l-i-t's Launchpad home to use https

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/__init__.py:
	* hwpack/better_tarfile.py:
	* hwpack/builder.py:
	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* hwpack/tests/test_testing.py:
	* linaro-hwpack-create:
	* linaro-hwpack-install:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* linaro_media_create/utils.py:

	s/2010,2011/2010, 2011/ on all copyright notices

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* COPYING:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* linaro_media_create/utils.py:

	Use linaro-dev@linaro.org instead of infrastructure@ as the latter is internal only

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/__init__.py:
	* hwpack/better_tarfile.py:
	* hwpack/builder.py:
	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* hwpack/tests/test_testing.py:
	* linaro-hwpack-create:
	* linaro-hwpack-install:

	Add a GPL2 header to all hwpack files

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* COPYING:
	* COPYING.GPL-2:
	* COPYING.GPL-3:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/cmd_runner.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* linaro_media_create/utils.py:

	Add license headers to all media-create files

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Change OMAP configs to use the correct serial tty depending on the kernel version that is installed. A better temporary fix for bug 697824 which makes it possible to use newer versions of l-m-c to build maverick images

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Change OMAP configs to use the correct serial tty depending on the kernel version that is installed

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:

	Make it possible to change the serial_tty of OmapConfig at run time

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* do-release:
	* .bzr-builddeb:
	* .bzr-builddeb/default.conf:
	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/python-hwpack.install:
	* debian/python-linaro-media-create.install:
	* debian/rules:
	* setup.py:

	Merge lp:~lool/linaro-image-tools/setup-py-rework; rework setup.py and use
	DistutilsExtra and add a do-release script to roll releases; LP: #683746.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	GPLv3+, not v2+ as some bits are only v3+.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* do-release:

	Sign tarball.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* do-release:

	Update setup.py and commit the version change.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* do-release:

	Run testsuite before release.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	No need to list the packages explicitly.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Switch to DistutilsExtra, this has the nice side effect of shipping tests.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Drop unused imports.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* do-release:

	Check whether tree is dirty with bzr status before rolling a release.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* .bzr-builddeb:
	* .bzr-builddeb/default.conf:
	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/python-hwpack.install:
	* debian/python-linaro-media-create.install:
	* debian/rules:

	Drop packaging; will be maintained in Ubuntu.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Add misc metadata: description, license, URL, author information...

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Install scripts.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Harcode version in setup.py instead of reading it from the packaging which will
	go away.  Use version 0.4.1.1 as to distinguish people using bzr checkouts from
	the 0.4.1 release.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Rename to linaro-image-tools.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* do-release:

	Add simple script to roll a release; needs some setup.py fixes before it can
	be used though.

2011-01-28  Lo√Øc Minier  <lool@dooz.org>

	* setup.py:

	Add shebang and make setup.py +x.

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* tests/integration.txt:

	Update tests/integration.txt to match the current state of the code.  We should remember to run them more often.

2011-01-28  Guilherme Salgado  <salgado@canonical.com>

	* README:

	Add list of dependencies for running l-m-c to README

2011-01-27  Guilherme Salgado  <salgado@canonical.com>

	* README:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	Fix install_package_providing() to wait() for its child. Also change MockCmdRunnerPopenFixture to assert that any callsite that invokes Popen.__call__() also calls .wait()

2011-01-27  Guilherme Salgado  <salgado@canonical.com>

	* README:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/utils.py:

	Fix install_package_providing() to wait() for its child

2011-01-27  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Add a test to make sure ensure_partition_is_not_mounted is not called when generating image files

2011-01-27  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/tests/test_media_create.py:

	Add a test to make sure ensure_partition_is_not_mounted is not called when generating image files

2011-01-27  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Only ensure a partition is not mounted before running mkfs when we're burning an SD card.

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/mkfs-uuid; read UUID from rootfs rather than
	forcing a pre-computed one; helps with btrfs support; see LP #705454.

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Use blkid -p to force probing and ignore the cache in this case since it's
	useless; call blkid within sudo as it needs direct device access.

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Test that get_uuid() runs blkid correctly.

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Only lookup rootfs UUID when needed.

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Don't pass -U to mkfs helpers; instead get the UUID from blkid after creating
	the root filesystem; LP: #705454.

2011-01-26  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Use the board's mmc_part_offset (instead of the media's partition count) to figure out the boot/root partition numbers

2011-01-26  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Use the board's mmc_part_offset (instead of the media's partition count) to figure out the boot/root partition numbers

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~lool/linaro-image-tools/fdisk-isnt-required; fdisk isn't use anymore.

2011-01-26  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	fdisk isn't used anymore.

2011-01-25  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Get rid of the mx51evk-specific code in create_partitions

2011-01-25  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* linaro_media_create/boards.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Get rid of the mx51evk-specific code in create_partitions

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	TestGetBootCmd.test_overo(): update for new OveroConfig console settings;
	fixes testsuite.

2011-01-25  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Do not try to clean stuff up when there's nothing to cleanup.

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/fix-vexpress-lp-705569.

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Move docstring in proper place.

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	TestBuildSteps: also move self.mock_all_boards_funcs() inside setUp()

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	TestBootSteps: move make_boot_files() logic in a wrapper function.

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	TestBootSteps(): only set funcs_calls = [] in setUp() rather than duplicating
	this in all tests.

2011-01-23  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Test steps (functions) of linaro_media_create.boards called by various
	boards' configs with expected sequence.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Add boot_device_or_file parameter to _make_boot_files() class method in
	VexpressConfig() class; was added specifically for imx51, but not added to all
	other boards.

2011-01-25  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Merge lp:~doanac/linaro-image-tools/overo-natty-serial.

2011-01-24  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/boards.py:

	update serial settings for overo to match natty kernel
	
	The natty kernel uses tty02 rather than ttyS2

2011-01-24  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Make sure we create an extra (non-Data) partition for mx51evk boards

2011-01-24  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Make sure we create an extra (non-Data) partition for mx51evk boards

2011-01-24  Lo√Øc Minier  <lool@dooz.org>

	* hwpack/config.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/pyflake-fixes.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Rename rootfs to rootfs_dev to avoid shadowing rootfs import; rename bootfs to
	bootfs_dev for consistency.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* hwpack/config.py:
	* linaro_media_create/check_device.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/tests/test_media_create.py:

	Remove unused code.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/rules:
	* hwpack/packages.py:

	Merge lp:~lool/linaro-image-tools/testsuite-env-fixes.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* hwpack/packages.py:

	Drop spaces around env keyword argument.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/rules:
	* hwpack/packages.py:

	Set NO_PKG_MANGLE=1 when calling dpkg-deb; LP: #706144.

2011-01-22  Lo√Øc Minier  <lool@dooz.org>

	* hwpack/packages.py:

	Set LC_ALL=C when running dpkg-deb; LP: #706140.

2011-01-20  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Merge lp:~doanac/linaro-image-tools/overo-kernel-suffix.

2011-01-19  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/boards.py:

	change overo's sub_arch to kernel_suffix as per commit 247

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~doanac/linaro-image-tools/overo-support again to pick up a test case.

2011-01-19  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/tests/test_media_create.py:

	add test case for overo board

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:

	Merge lp:~doanac/linaro-image-tools/overo-support.

2011-01-18  Andy Doan  <andy.doan@canonical.com>

	* linaro_media_create/boards.py:

	support for overo boards

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:
	* debian/control:
	* debian/rules:
	* linaro_media_create/rootfs.py:

	Merge lp:~lool/linaro-image-tools/brown-paper-bag-0.4.1.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	0.4.1 changelog

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Build-dep on qemu-kvm for qemu-img.
	Build-dep and Recommend on command-not-found for CommandNotFound.
	Build-dep on u-boot-tools | uboot-mkimage for mkimage.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Drop util-linux from Depends as it's Essential.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Uppercase Python in python-linaro-media-create long description.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/rules:

	Disable pkgbinarymangler when running the testsuite as it might cause some
	stderr output which confuses it.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/rootfs.py:

	linaro_media_create.rootfs.move_contents(): Sort files as to get a reliable set
	of commands which we can test.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Update changelog for 0.4

2011-01-19  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:

	Rename BoardConfig.sub_arch to BoardConfig.kernel_suffix and fix PandaConfig.kernel_suffix so that l-m-c can generate images for panda boards

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:

	Rename BoardConfig.sub_arch to BoardConfig.kernel_suffix and fix PandaConfig.kernel_suffix

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~lool/linaro-image-tools/remove-omapfb-debug.

2011-01-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Remove omapfb.debug=y from kernel cmdline as the DSS2 code is mature now.

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Make l-m-c find the MLO file to install on omap boards regardless of where x-loader puts them

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:

	Mention the bug number in an XXX comment and create an OmapConfig which is extended by both Beagle and Panda configs

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Make l-m-c find the MLO file to install on omap boards regardless of where x-loader puts them

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Fix the console boot arg for the beagle config so that we can boot images generated using new binary/hwpack pairs.

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Fix the console boot arg for the beagle config

2011-01-18  Lo√Øc Minier  <lool@dooz.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Merge lp:~dave-martin-arm/linaro-image-tools/bootargs-spacing-fix

2011-01-18  Dave Martin  <dave.martin@linaro.org>

	* linaro_media_create/boards.py:
	* linaro_media_create/tests/test_media_create.py:

	Remove spaces from around '=' in kernel command-lines.
	
	The spaces appear to be causing the command-line to be parsed
	incorrectly.

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/utils.py:
	* linaro_media_create/ensure_command.py:
	* debian/control:
	* linaro-media-create:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:

	- change Depends: to add some dependencies that were required in
	practice
	- add qemu-kvm and qemu-kvm-extras-static to Recommends:
	- change ensure_command to figure out the package which provides the given
	command so that callsites don't need to specify that.

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/utils.py:

	Add the new utils.py module which somehow was not included in the previous commit

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* debian/control:

	Recommends: qemu-kvm* and btrfs-tools and stop depending on btrfs-tools (not always needed) and e2fsprogs (which is essential and thus we can assume to always be installed)

2011-01-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/ensure_command.py:
	* debian/control:
	* linaro-media-create:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:

	Fix Depends: and Suggests: to match the real requirements and also change ensure_command to lookup the package which provides the given command

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/tests/test_media_create.py:

	Fix 3 tests that I accidentally broke recently

2011-01-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/tests/test_media_create.py:

	Fix 3 tests that my last commit broke

2011-01-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/remove_binary_dir.py:
	* linaro-media-create:
	* linaro_media_create/tests/test_media_create.py:

	Get rid of remove_binary_dir.py as the binary/ dir is now created in a temp directory that is always removed when the script exits.

2011-01-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/remove_binary_dir.py:
	* linaro-media-create:
	* linaro_media_create/tests/test_media_create.py:

	Get rid of remove_binary_dir.py as the binary/ dir is now created in a temp directory that is always removed when the script exits.

2011-01-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:

	Use UDisks to lookup the correct device files for the boot/root partitions

2011-01-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:

	Add a comment mentioning the UDisks bug I've reported

2011-01-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/partitions.py:

	Use UDisks to lookup the correct device files for the boot/root partitions

2011-01-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Move remaining board-specific code from populate_boot.py to boards.py

2011-01-12  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* linaro_media_create/boards.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Move board-specific code from populate_boot.py to boards.py

2011-01-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/boot_cmd.py:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Use classes instead of dicts for board config

2011-01-12  Guilherme Salgado  <salgado@canonical.com>

	* linaro_media_create/boards.py:
	* linaro_media_create/boot_cmd.py:
	* linaro-media-create:
	* linaro_media_create/__init__.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/tests/test_media_create.py:

	Use classes for board config

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* debian/control:
	* debian/python-linaro-media-create.install:
	* linaro-media-create:
	* linaro_media_create/check_device.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/remove_binary_dir.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/tests/__init__.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* setup.py:
	* tests/__init__.py:
	* tests/integration.txt:
	* media_create:
	* linaro_media_create:

	Rename the media_create python package to linaro_media_create, to match the name of the deb package (python-linaro-media-create)

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* debian/control:
	* debian/python-linaro-media-create.install:
	* linaro-media-create:
	* linaro_media_create/check_device.py:
	* linaro_media_create/hwpack.py:
	* linaro_media_create/partitions.py:
	* linaro_media_create/populate_boot.py:
	* linaro_media_create/remove_binary_dir.py:
	* linaro_media_create/rootfs.py:
	* linaro_media_create/tests/__init__.py:
	* linaro_media_create/tests/fixtures.py:
	* linaro_media_create/tests/test_media_create.py:
	* linaro_media_create/unpack_binary_tarball.py:
	* setup.py:
	* tests/__init__.py:
	* tests/integration.txt:
	* media_create:
	* linaro_media_create:

	Rename the media_create python package to linaro_media_create, to match the name of the deb package (python-linaro-media-create)

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* linaro-media-create:
	* media_create/__init__.py:
	* media_create/boot_cmd.py:
	* media_create/check_device.py:
	* media_create/ensure_command.py:
	* media_create/hwpack.py:
	* media_create/partitions.py:
	* media_create/populate_boot.py:
	* media_create/remove_binary_dir.py:
	* media_create/rootfs.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:
	* media_create/unpack_binary_tarball.py:
	* tests/integration.txt:

	Port the remaining of linaro-media-create to python

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* media_create/__init__.py:

	Make the --binary argument of l-m-c required

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* media_create/__init__.py:
	* media_create/tests/test_media_create.py:

	Finish tests for get_board_config

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* tests/integration.txt:

	Update integration.txt to call the functions directly instead of using python -m as we used to do

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/partitions.py:

	Remove some debug code I'd left behind

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* linaro-media-create.py:
	* linaro-media-create:

	Remove l-m-c and rename l-m-c.py to l-m-c

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create.py:

	Update linaro-media-create.py to call get_board_config() correctly

2011-01-11  Guilherme Salgado  <salgado@canonical.com>

	* media_create/__init__.py:
	* media_create/tests/test_media_create.py:

	Tests for get_board_config

2011-01-10  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create.py:
	* media_create/__init__.py:
	* media_create/hwpack.py:
	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:

	A few more unrelated tweaks

2011-01-10  Guilherme Salgado  <salgado@canonical.com>

	* media_create/tests/test_media_create.py:

	Fix test_make_boot_script, which broke after the signature of make_boot_script was changed

2011-01-10  Guilherme Salgado  <salgado@canonical.com>

	* media_create/hwpack.py:
	* media_create/tests/test_media_create.py:

	Fix media_create.hwpack which was relying on the atexit funcs being called right after its job was done. That's no longer the case as it's no longer executed as a separate python process

2011-01-10  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create.py:
	* media_create/__init__.py:
	* media_create/check_device.py:
	* media_create/hwpack.py:
	* media_create/populate_boot.py:

	Fix a few minor issues introduced in l-m-c.py

2011-01-10  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create.py:

	Implement the cleanup function in l-m-c.py and call confirm_device_selection_and_ensure_it_is_ready, which was missing in l-m-c.py

2011-01-07  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create.py:
	* media_create/__init__.py:
	* media_create/boot_cmd.py:
	* media_create/ensure_command.py:
	* media_create/hwpack.py:
	* media_create/partitions.py:
	* media_create/populate_boot.py:
	* media_create/remove_binary_dir.py:
	* media_create/rootfs.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:
	* media_create/unpack_binary_tarball.py:
	* tests/integration.txt:

	Checkpoint commit; there's still lots of TODOs and FIXMEs

2011-01-08  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:
	* debian/control:

	u-boot -> u-boot-tools (natty).

2011-01-07  Guilherme Salgado  <salgado@canonical.com>

	* media_create/hwpack.py:

	Make the --hwpack-force-yes argument to l-m-c work again.  No tests as this
	code is being killed on another branch of mine.

2011-01-06  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:
	* media_create/check_device.py:
	* media_create/tests/test_media_create.py:

	Once the user confirms the device selection on l-m-c, ensure all of its
	partitions are umounted to prevent failures further on (bug 687636).
	
	Show progress when running apt-get update in linaro-hwpack-install (bug
	694047).

2011-01-06  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Show progress when running apt-get update in linaro-hwpack-install

2011-01-06  Guilherme Salgado  <salgado@canonical.com>

	* media_create/check_device.py:
	* media_create/tests/test_media_create.py:

	Once the user confirms the device selection on l-m-c, ensure all of its partitions are umounted to prevent failures further on

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:

	Make sure the boot/root partitions are umounted before we attempt to mkfs them.

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:

	Use the UDisks dbus interface to check whether or not a given partition is mounted

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:

	Minor tweaks and a couple tests for ensure_filesystem_is_not_mounted

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:

	Unmount bootfs/rootfs before attempting to create a new filesystem on them. Needed because KDE apparently triggers the automounter after a disk is repartitioned

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/hwpack.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Port install_hwpacks to python

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/hwpack.py:
	* media_create/tests/test_media_create.py:

	Add tests for install_hwpacks and co

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* media_create/hwpack.py:

	Add some docstrings and fix some minor issues

2011-01-04  Guilherme Salgado  <salgado@canonical.com>

	* media_create/hwpack.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:

	Port install_hwpacks to python

2011-01-04  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/partitions.py:
	* tests/integration.txt:

	merge bug-697238 branch

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Move some remaining board-specific configs to the one block where they should all be defined

2011-01-04  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Move some remaining board-specific configs to the one block where they should all be defined

2011-01-05  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/partitions.py:
	* tests/integration.txt:

	Do not use stdout to pass data from python to the linaro-media-create shell script

2011-01-04  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/partitions.py:
	* tests/integration.txt:

	Use a temp file rather than stdout to pass data from a python script to l-m-c

2011-01-05  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Fix misc issue with python-linaro-media-create package:
	- add missing dep of linaro-image-tools on python-linaro-media-create
	- uppercase Python in description
	- drop superfluous python-apt dep

2011-01-05  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Wrap build-deps and deps

2011-01-05  Lo√Øc Minier  <lool@dooz.org>

	* debian/python-linaro-media-create.install:
	* debian/control:
	* debian/rules:
	* setup.py:

	Merge lp:~salgado/linaro-image-tools/package-media-create; adds a
	python-media-create package.

2010-12-06  Guilherme Salgado  <salgado@canonical.com>

	* debian/control:
	* debian/rules:
	* setup.py:

	A few tweaks

2010-12-06  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/ensure_command.py:
	* media_create/remove_binary_dir.py:
	* media_create/tests/fixtures.py:
	* media_create/unpack_binary_tarball.py:
	* README:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-11-23  Guilherme Salgado  <salgado@canonical.com>

	* debian/python-linaro-media-create.install:
	* debian/control:
	* debian/rules:
	* setup.py:

	First attempt at packaging media_create. Works but has a few things that need fixing

2011-01-04  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:
	* linaro-media-create:

	Revert r220 as media_create/partitions.py still uses parted (along
	python-parted).

2011-01-03  Guilherme Salgado  <salgado@canonical.com>

	* media_create/check_device.py:

	Escape a percent character in a string of check_device._select_device. (fix provided by David Epping, for bug 695662)

2011-01-03  Guilherme Salgado  <salgado@canonical.com>

	* media_create/check_device.py:

	Print the correct device size in check_device._print_devices. (fix provided by David Epping, for bug 695659)

2010-12-23  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Prepare changelog for 0.4

2010-12-23  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:
	* linaro-media-create:

	Drop parted dependency.

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Uppercase Python in description (lintian)

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Add a python >= 2.6.5-1~ build-dep for dh_python2.

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	m

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/rules:

	Use python2 sequence rather than python-support -- python-support build-dep was
	missing anyway.

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Use a stricter dependency on python-hwpack as to avoid unhappy mixups

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Wrap python-hwpack's Depends to get cleaner diffs

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Update runtime Depends per README

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Fix empty Vcs-Bzr

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Build-dep on python-dbus, python-debian (>= 0.1.16ubuntu1), and python-parted
	per README

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Bump python-testtools build-dep to >= 0.9.6 per README

2010-12-22  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Wrap build-deps to get cleaner diffs

2010-12-20  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Merge lp:~lool/linaro-image-tools/mkimage-move

2010-12-20  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Depends on u-boot instead of uboot-mkimage as this is where mkimage is shipped
	in natty.

2010-12-20  Paul Larson  <paul.larson@canonical.com>

	* linaro-media-create:

	Fix a bug that would cause l-m-c to fail if there were spaces in the
	path.

2010-12-17  Paul Larson  <paul.larson@canonical.com>

	* linaro-media-create:

	Don't fail if there are spaces in the path.

2010-12-20  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Add python port for check_device.

2010-12-20  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* media_create/tests/test_media_create.py:

	Refactoring of check_device.py.
	
	Added docstrings and renamed functions to make the code more clear.

2010-12-17  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Replace StdoutToDevnull fixture with a MockSomething fixture.

2010-12-17  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* media_create/tests/test_media_create.py:

	Improve formatting of device printout.

2010-12-17  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/partitions.py:
	* tests/integration.txt:
	* media_create/create_partitions.py:
	* media_create/partition_size.py:
	* README:
	* debian/control:
	* hwpack/__init__.py:
	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* linaro-hwpack-create:
	* linaro-hwpack-install:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/populate_boot.py:
	* media_create/remove_binary_dir.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:
	* media_create/unpack_binary_tarball.py:

	Merge trunk rev 203.

2010-12-16  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* media_create/tests/test_media_create.py:

	Replace fdisk command with the UDisks dbus interface.

2010-12-15  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:

	Add TODO comment about using UDisk dbus interface to avoid subprocess.Popen.

2010-12-15  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* media_create/tests/test_media_create.py:

	Refactor check_device.py.
	- sys.stdout.write replaced with print.
	- check_device() returns boolean instead of exit code.

2010-12-14  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* media_create/cmd_runner.py:

	Move get_extended_env() from check_device to cmd_runner.

2010-12-14  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:

	Refactor for PEP-8 compliance.

2010-12-14  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/tests/test_media_create.py:

	Add test for deselecting a device.

2010-12-14  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/check_device.py:
	* linaro-media-create:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Add python port of check_device.

2010-12-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:
	* tests/integration.txt:

	Convert prepare_partitions to python

2010-12-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:
	* tests/integration.txt:

	Port prepare_partitions to python

2010-12-17  Guilherme Salgado  <salgado@canonical.com>

	* media_create/rootfs.py:
	* hwpack/testing.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Port populate_rootfs to python.

2010-12-17  Guilherme Salgado  <salgado@canonical.com>

	* debian/control:
	* hwpack/__init__.py:
	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* linaro-hwpack-create:
	* linaro-hwpack-install:
	* linaro-media-create:
	* media_create/remove_binary_dir.py:
	* media_create/unpack_binary_tarball.py:

	merge trunk

2010-12-16  Guilherme Salgado  <salgado@canonical.com>

	* media_create/rootfs.py:

	Fix arg parsing in rootfs.py

2010-12-16  Guilherme Salgado  <salgado@canonical.com>

	* media_create/rootfs.py:
	* hwpack/testing.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Port populate_rootfs to python

2010-12-16  James Westby  <james.westby@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_hardwarepack.py:

	Write a manifest external to the hwpack as well.

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/tests/test_builder.py:

	create an external manifest

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	support different extensions in HardwarePack.filename

2010-12-16  James Westby  <james.westby@linaro.org>

	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* linaro-hwpack-create:

	Add the ability to add local .debs to the hwpack with --local-deb.

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:

	WARNING is a more appropriate level

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:

	warn if a package supplied with --local-deb does not end up in the hwpack

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-create:

	document & give a default to --local-deb

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_builder.py:

	finish making test_builder tests less repetitive

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_builder.py:

	start to make test_builder tests less repetitive

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:

	include local debs in the hwpack even if the config file does not include them

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	remove special casing of None keys in HardwarePack.sources

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:

	de-XXX

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-create:

	rename destination of --local-deb to indicate pluralness

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* debian/control:
	* linaro-hwpack-install:
	* linaro-media-create:

	merge trunk

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/testing.py:

	grr

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	test the prefer_label stuff

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	make sources_entry_for_debs label support less hacky & tested

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:

	small tidy

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tests/test_builder.py:

	make test pass, some hacking though

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_builder.py:

	the final test!

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:

	consider the local debs as a package source when building the hwpack

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	make sure that the Packages file created by sources_entry_for_debs has Filename: entries that work

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	implement sources_entry_for_debs

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	split TemporaryDirectoryManager out of PackageMaker, add LocalArchiveMaker

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	if you pass a source with a key of "None" to add_apt_sources(), it is not added to the hwpack

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	allow matching the "content" (i.e. the file listing) of directories in tarfiles

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:

	add a modicum more logging

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	add local-debs option, which currently does not do anything

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-media-create:

	you can now pass --hwpack more than once to linaro-media-create to install more than one hwpack in the image

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/__init__.py:
	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:
	* media_create/remove_binary_dir.py:
	* media_create/unpack_binary_tarball.py:

	merge trunk

2010-12-15  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-media-create:

	this probably allows you to pass --hwpack to linaro-media-create more than once

2010-12-17  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	two small bugfixes for linaro-hwpack-install: don't mark the dependency package as automatically installed; hide stderr from dpkg --get-selections

2010-12-16  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	don't mark the dependency package as automatically installed; hide stderr from dpkg --get-selections

2010-12-16  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:
	* linaro-media-create:

	Drop a bunch of unused dependencies.

2010-12-15  James Westby  <james.westby@linaro.org>

	* hwpack/__init__.py:
	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Add a --debug option to hwpack-create.

2010-11-04  James Westby  <james.westby@linaro.org>

	* hwpack/builder.py:
	* hwpack/packages.py:
	* linaro-hwpack-create:

	Add INFO output in normal operation.

2010-11-04  James Westby  <james.westby@linaro.org>

	* hwpack/__init__.py:
	* hwpack/builder.py:
	* hwpack/packages.py:
	* linaro-hwpack-create:

	Add --debug option to hwpack-create.

2010-12-15  Guilherme Salgado  <salgado@canonical.com>

	* media_create/remove_binary_dir.py:
	* media_create/unpack_binary_tarball.py:

	Update a couple modules using subprocess.Popen() when they should use cmd_runner.run()

2010-12-15  Guilherme Salgado  <salgado@canonical.com>

	* media_create/remove_binary_dir.py:
	* media_create/unpack_binary_tarball.py:

	Update two python modules that were using subprocess.Popen() to use cmd_runner.run() instead

2010-12-15  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	copy StartsWith from testtools, as that is only present in testtools 0.9.7+ and reenable test

2010-12-15  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	hwpack.packages.stringify_relationship handles 'strictly less/greater than' relationships correctly

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	remove patch from james again

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:

	the fix

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_packages.py:

	tests that are the core of the issue

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	patch from james

2010-12-14  Guilherme Salgado  <salgado@canonical.com>

	* media_create/create_partitions.py:
	* media_create/partitions.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Merge create_partitions.py with partitions.py

2010-12-14  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/testing.py:

	Disable a test which has a non-documented requirement and thus fails on Maverick

2010-12-14  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partitions.py:
	* tests/integration.txt:
	* media_create/partition_size.py:
	* README:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/create_partitions.py:
	* media_create/populate_boot.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Move everything related to partitioning to python, into a partitions.py module.

2010-12-14  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partitions.py:
	* media_create/tests/test_media_create.py:
	* tests/integration.txt:

	A few tweaks a bug fixes suggested by reviewers

2010-12-13  Guilherme Salgado  <salgado@canonical.com>

	* media_create/create_partitions.py:
	* media_create/partitions.py:
	* media_create/populate_boot.py:

	Update a few cmd_runner.run() callsites that were not wait()ing

2010-12-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:
	* media_create/create_partitions.py:
	* media_create/tests/test_media_create.py:
	* tests/integration.txt:
	* media_create/setup_partitions.py:
	* media_create/partitions.py:

	Fix remaining tests, make sure everything is tested and clean up some bits

2010-12-13  Guilherme Salgado  <salgado@canonical.com>

	* media_create/create_partitions.py:
	* media_create/setup_partitions.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Fix some tests and add more XXXs/TODOs

2010-12-10  Guilherme Salgado  <salgado@canonical.com>

	* media_create/setup_partitions.py:
	* tests/integration.txt:
	* media_create/partition_size.py:
	* README:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/create_partitions.py:
	* media_create/populate_boot.py:
	* media_create/tests/test_media_create.py:

	Checkpoint commit

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_script.py:
	* hwpack/tests/test_testing.py:
	* linaro-hwpack-install:

	a new way to build and install hwpacks, based on a "dependency package" that depends on the contents of the hwpack
	
	older hwpacks will still be handled by linaro-hwpack-install and installed the same way.
	new hwpacks will be handled adequately by older versions of linaro-hwpack-install too.

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	this is probably more robust

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	only mark packages newly installed with the hwpack as automatically installed

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	add a small essay to linaro-hwpack-install explaining why it does what it does

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* linaro-hwpack-install:

	redo linaro-hwpack-install to use markauto on the contents of the hwpack

2010-12-14  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	mostly revert r199

2010-12-13  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_script.py:

	de-magic a test

2010-12-13  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_packages.py:

	explain a test

2010-12-13  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	docstring & test for MatchesPackageRelationshipList

2010-12-13  Michael Hudson  <michael.hudson@linaro.org>

	* media_create/create_partitions.py:
	* media_create/partition_size.py:
	* hwpack/testing.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	have the generated packages break/replace each other

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	duh

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-hwpack-install:

	rollback format bump & make linaro-hwpack-install detect new-style hwpacks differently

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	create two dependency packages, one which depends on the contents of the hwpack, one which depends on the spec

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:
	* linaro-media-create:

	merge --force-yes support

2010-12-09  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-hwpack-install:

	rename dependency package to be prefixed with hwpack-

2010-12-09  Michael Hudson  <michael.hudson@linaro.org>

	* media_create/populate_boot.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-09  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	doh!

2010-12-09  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:

	add a docstring

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* media_create/populate_boot.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_testing.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	support format 2.0 in linaro-media-create

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	bump hwpack format to 2

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	test add_dependency_package

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	oops, PackageMaker.make_package did not get the file name right when arch != all

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:

	simplifications

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	merge better-hwpack-matcher improvements following review

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_script.py:

	build a dependency package as part of building a hwpack

2010-12-13  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:
	* linaro-media-create:

	add a --hwpack-force-yes option to linaro-media-create that forcibly installs unauthenticated packages from the hwpack

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-media-create:

	classic 180 degree wrong logic bug

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-media-create:

	doh

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-media-create:

	support --hwpack-force-yes in linaro-media-create

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	oops

2010-12-10  Michael Hudson  <michael.hudson@linaro.org>

	* linaro-hwpack-install:

	add --force-yes option to linaro-hwpack-install, rewriting its argument parsing on the way

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partition_size.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Port more bits of create_partitions

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/create_partitions.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	merge parent branch

2010-12-08  Guilherme Salgado  <salgado@canonical.com>

	* media_create/partition_size.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Port more bits of create_partitions to python

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/create_partitions.py:
	* hwpack/testing.py:
	* linaro-media-create:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Port most of create_partitions to python

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/create_partitions.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Use the new cmd_runner.Popen instead of subprocess.Popen

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-08  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/tests/test_testing.py:
	* .bzrignore:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* media_create/populate_boot.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-08  Guilherme Salgado  <salgado@canonical.com>

	* media_create/create_partitions.py:
	* hwpack/testing.py:
	* linaro-media-create:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Port create_partitions to python

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Create a subprocess.Popen subclass which raises an error when the process
	exits with a non-zero return code. This is useful in cases when cmd_runner
	can't be used but we still want to raise an error on non-zero exit.

2010-12-09  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Create a subprocess.Popen subclass which raises an error when the process exits with a non-zero return code.  This is useful in cases when cmd_runner can't be used but we still want to raise an error on non-zero exit.

2010-12-08  Guilherme Salgado  <salgado@canonical.com>

	* media_create/populate_boot.py:
	* media_create/tests/test_media_create.py:

	Fix test_run_mkimage so that it doesn't run a subprocess using sudo

2010-12-08  Guilherme Salgado  <salgado@canonical.com>

	* media_create/populate_boot.py:
	* media_create/tests/test_media_create.py:

	Fix test_run_mkimage so that it doesn't run a subprocess using sudo

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_testing.py:
	* .bzrignore:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_tarfile_matchers.py:

	a better matcher for hardware packs that checks fewer accidental details

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/__init__.py:

	sort test module names in hwpacks/tests/__init__.py & add test_testing

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_testing.py:

	more vertical separation

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	add AfterPreprocessing.__str__

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	more documentation, some duplication removed

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	rename ZipMatchers to EachOf, document it and (doc)test it

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	replace Packages file "parsing" code with a real parser from debian.deb822

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	thoroughly rewrite the reporting part of MatchesSetwise and test that side of things

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tarfile_matchers.py:

	maybe this is a bit clearer

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:

	test that hardware matching is independent of package order & last fix to actually make it so

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	use MatchesAsPackagesFile in IsHardwarePack

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	generalize how TarfileHasFile matches content

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	wth, actual working impl of last commit

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	kill off MatchesPackage.fromPackage constructor

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	finally, MatchesAsPackagesFile

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* .bzrignore:
	* hwpack/testing.py:
	* hwpack/tests/test_testing.py:

	implement MatchesSetwise

2010-12-07  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_testing.py:
	* hwpack/packages.py:
	* hwpack/testing.py:

	ok, this is a bit crazy:
	add a MatchesStructure matcher that is a bit reminscent of destructuring-bind in common lisp
	make explicit the attributes which must be compared to consider FetchedPackages equal
	use the above two things to make a MatchesPackage matcher

2010-12-06  Michael Hudson  <michael.hudson@linaro.org>

	* media_create/cmd_runner.py:
	* media_create/remove_binary_dir.py:
	* media_create/tests/fixtures.py:
	* media_create/unpack_binary_tarball.py:
	* README:
	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-08  Michael Hudson  <michael.hudson@linaro.org>

	* media_create/tests/test_media_create.py:

	disable test_run_mkimage because it keeps asking for my sudo password

2010-12-07  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Unpack tarball in system tempdir during test to not polute cwd.

2010-12-07  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/tests/test_media_create.py:

	Remove import of shutil in test_media_create.py.

2010-12-07  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/tests/test_media_create.py:

	Use tempdir fixture as param when creating ChangeCurrentWorkingDirFixture.

2010-12-07  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/tests/test_media_create.py:

	Add check for absolute path.

2010-12-07  Martin Ohlsson  <martin.ohlson@linaro.org>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Unpack tarball in system tempdir.

2010-12-07  Guilherme Salgado  <salgado@canonical.com>

	* media_create/populate_boot.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Port the meat of populate_boot to python

2010-12-03  Guilherme Salgado  <salgado@canonical.com>

	* media_create/populate_boot.py:
	* linaro-media-create:
	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Port the meat of populate_boot to python

2010-12-03  Guilherme Salgado  <salgado@canonical.com>

	* README:
	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-12-02  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* README:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* media_create/remove_binary_dir.py:
	* media_create/tests/test_media_create.py:

	merge trunk

2010-11-30  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Refactor the meat of populate_boot() into smaller functions that can be reused for all boards

2010-12-03  Guilherme Salgado  <salgado@canonical.com>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Fix the mocking of do_run in tests to not use the context manager protocol as that may fail to undo the mocking in some circumstances

2010-12-03  Guilherme Salgado  <salgado@canonical.com>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Implement a new fixture which uses MockSomethingFixture to mock cmd_runner.do_run

2010-12-03  Guilherme Salgado  <salgado@canonical.com>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Fix the mocking of do_run in tests to not use the context manager protocol as that may fail to undo the mocking in some circumstances

2010-12-03  Guilherme Salgado  <salgado@canonical.com>

	* README:

	REAME now states the specific version of python-debian that is needed to run the test suite

2010-12-02  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Create a new run() function to be used when running external commands as subprocesses

2010-12-01  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Refactor a bunch of things taking into account Peter's and James' comments

2010-11-30  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:

	Add an XXX for a question to the reviewer

2010-11-30  Guilherme Salgado  <salgado@canonical.com>

	* media_create/cmd_runner.py:
	* media_create/tests/test_media_create.py:

	Create a new run() function to be used when running external commands as subprocesses

2010-12-02  Guilherme Salgado  <salgado@canonical.com>

	* README:

	Update README with more packages that are needed to run the test suite

2010-12-01  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:

	Fix sudo error for remove_binary_dir.

2010-12-01  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:

	Fix sudo for remove_binary_dir.py.

2010-12-01  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	fix lint, don't compare content when comparing FetchedPackages, add FetchedPackage.__hash__

2010-12-01  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	don't compare content when comparing FetchedPackages -- the md5 is enough

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	add a FetchedPackage.__hash__ method

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	test and fix for bug found by pyflakes

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_tarfile_matchers.py:

	fix lint in test_tarfile_matchers

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_packages.py:

	michael will always run the tests before committing to trunk

2010-12-01  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_packages.py:

	michael will always run the tests before committing to trunk

2010-11-30  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:
	* media_create/tests/fixtures.py:
	* media_create/unpack_binary_tarball.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Add python port for unpack_binary_tarball and remove_binary_dir.

2010-11-30  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Rename test fixtures and organize imports.

2010-11-29  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/tests/fixtures.py:
	* media_create/tests/test_media_create.py:

	Move fixtures to separate module.

2010-11-28  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/tests/test_media_create.py:

	Use fixtures for setUp and tearDown.

2010-11-27  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:
	* media_create/unpack_binary_tarball.py:

	Apply subprocess args with shell=False.

2010-11-26  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:
	* media_create/tests/test_media_create.py:

	Add tests for unpack_binary_dir.

2010-11-25  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:
	* media_create/tests/test_media_create.py:

	Add test for remove_binary_dir.

2010-11-25  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* media_create/remove_binary_dir.py:
	* media_create/unpack_binary_tarball.py:
	* linaro-media-create:

	Port unpack_binary_tarball to python (includes porting of 
	remove_binary_dir).

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	so far unused utility code to create debian packages with arbitrary relationships on the fly

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:

	another comment

2010-11-30  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/testing.py:

	better comment

2010-11-29  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	changes following review

2010-11-26  Michael Hudson  <michael.hudson@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	allow the architecture to be supplied

2010-11-26  Michael Hudson  <michael.hudson@canonical.com>

	* hwpack/tests/test_packages.py:

	test that created package had architecture: all

2010-11-25  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	more tests & implementation for from_deb

2010-11-24  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	first test passing for PackageFetcher.from_deb

2010-11-24  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	create debs named like dpkg-name would move them too

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_packages.py:

	write out some more tests

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	depends and pre-depends fields work and invalid fields do not

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	use python-debian instead of python-apt for handling .deb files

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/tests/test_packages.py:

	test version too

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	check something about the created package

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	first test that creates a .deb

2010-11-23  Michael Hudson  <michael.hudson@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	start with a fixture/context manager that provides temporary directories
	this must have been done so many times before...

2010-11-26  Guilherme Salgado  <salgado@canonical.com>

	* media_create/ensure_command.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Port ensure_command to python

2010-11-23  Guilherme Salgado  <salgado@canonical.com>

	* media_create/ensure_command.py:
	* linaro-media-create:
	* media_create/tests/test_media_create.py:

	Port ensure_command to python

2010-11-22  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	merge trunk

2010-11-24  Guilherme Salgado  <salgado@canonical.com>

	* README:
	* media_create:
	* media_create/__init__.py:
	* media_create/boot_cmd.py:
	* media_create/tests:
	* media_create/tests/__init__.py:
	* media_create/tests/test_media_create.py:
	* tests:
	* tests/__init__.py:
	* .testr.conf:
	* linaro-media-create:

	Start porting linaro-media-create to python.
	
	This branch ports the create_boot_cmd function, creates a new python package
	(media_create) and adds a top-level test_suite() that we can feed to
	subunit.run to have it run all tests.

2010-11-22  Guilherme Salgado  <salgado@canonical.com>

	* README:
	* tests:
	* tests/__init__.py:
	* .testr.conf:

	Add instructions for running the tests and create a new top-level test_suite, used to run the whole test suite with subunit

2010-11-18  Guilherme Salgado  <salgado@canonical.com>

	* media_create:
	* media_create/__init__.py:
	* media_create/boot_cmd.py:
	* media_create/tests:
	* media_create/tests/__init__.py:
	* media_create/tests/test_media_create.py:
	* linaro-media-create:

	Port the meat of create_boot_cmd to python and call that from l-m-c

2010-11-22  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Refactor create_boot_cmd to make it not aware of anything board-specific

2010-11-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Refactor create_boot_cmd to make it not aware of 

2010-11-19  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* linaro-media-create:

	Notify user that "apt-get" will be run in target roofs.
	
	Bug #651906.
	
	This adds a notification to the user that "apt-get" will be run in 
	target rootfs when installing hwpack.

2010-11-18  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* linaro-media-create:

	Emphasize the hwpack installation in target rootfs.
	
	Bug #651906.
	
	This commit adds an emphasized section for the hwpack installation 
	in target rootfs.

2010-11-17  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* linaro-media-create:

	Notify user that "apt-get" will be run in target roofs.
	
	Bug #651906.
	
	This adds a notification to the user that "apt-get" will be run in target
	rootfs when installing hwpack.

2010-11-19  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* linaro-media-create:

	Replace "sfdisk -l" with "fdisk -l".
	
	Bug #673410.
	
	Use "fdisk -l" to list the partiton tables in a more user friendly manner.

2010-11-17  Martin Ohlsson  <martin.ohlson@stericsson.com>

	* linaro-media-create:

	Replace "sfdisk -l" with "fdisk -l".
	
	Bug #673410.
	
	Use "fdisk -l" to list the partiton tables in a more user friendly manner.

2010-11-18  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Remove an unnecessary call to get_device_by_id and fix some indentation

2010-11-12  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Remove an unnecessary call to get_device_by_id and fix some indentation

2010-11-12  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Properly indent code. I wish we had some form of watchdog to at least prevent <tab>s in the code

2010-11-11  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-hwpack-install:

	Ensure the format version of hwpacks don't contain white spaces as that is not necessary and could break linaro-hwpack-install.

2010-11-11  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Add a test for HardwarePack.FORMAT this time.

2010-10-18  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Ensure the format version of hwpacks don't contain white spaces as that is not necessary and could break linaro-hwpack-install

2010-10-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Tell users to try a newer hwpack-install script when the format is not supported

2010-10-06  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Check that the hwpack's format is supported before trying to do anything with it.

2010-11-09  Steve Langasek  <steve.langasek@linaro.org>

	* debian/changelog:

	releasing version 0.3

2010-11-09  Steve Langasek  <steve.langasek@linaro.org>

	* linaro-media-create:

	merge lp:~vorlon/linaro-image-tools/better-disk-detection/

2010-10-09  Steve Langasek  <vorlon@debian.org>

	* linaro-media-create:

	fix sfdisk invocation:
	- suppress stderr, which is quite noisy on any system that uses LVM
	- fix the grep commandline to actually match on the string 'Disk' instead
	of on the set of letters [Disk]...

2010-11-09  Steve Langasek  <steve.langasek@linaro.org>

	* debian/changelog:

	document bug #651905 in the changelog

2010-11-09  Dave Martin  <dave.martin@linaro.org>

	* debian/changelog:

	Implement proper cleanup handling on signal / exit, so that we don't
	leave clutter behind on error.  This also fixes the message at the end of
	a successful install about being unable to unmount proc.  LP: #616385,
	#660196, #667394, #643601, #627383.

2010-11-09  Steve Langasek  <steve.langasek@linaro.org>

	* linaro-media-create:

	merge fixes from Dave to clean up on exit

2010-11-09  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Remove suprious call to cleanup_sd before $DEPLOY_STEPS.
	
	cleanup_sd will still get called at the appropriate time in cleanup_handler,
	as part of the EXIT trap.
	
	Since cleanup_sd is now never called twice, the code to avoid double-
	cleanup can be removed there too.

2010-11-02  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Only run losetup -d on loop devices, not random partitions

2010-11-02  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Simplify shell exit from the cleanup / signal handlers

2010-11-02  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fixed harmless error message typo

2010-11-01  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Remove incorrect, overzealous sanity-check when cleaning up $TMP_DIR

2010-10-22  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Remove unnecessary extra unset IMAGE_FILE

2010-10-21  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Actually trap interrupts to signal_handler, as originally intended.

2010-10-21  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Tidy cleanup code formatting to be consistent with the rest of the script.

2010-10-21  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Try to clean up mess on exit, error, ^C, and return meaningful exit status.

2010-10-21  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Use sudo to remove loop devs so this works if not running as root.

2010-10-21  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Try to clean up mess on exit, error, ^C, and return meaningful exit status.

2010-11-04  James Westby  <james.westby@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Always install recommends in the hardware pack.

2010-11-04  James Westby  <james.westby@linaro.org>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Ensure that recommends are installed in the hwpack.

2010-11-04  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	add support for ux500; inspired by Frederick Gueydon

2010-11-02  Steve Langasek  <steve.langasek@linaro.org>

	* debian/changelog:

	Use --numeric-owner argument to tar when unpacking, so that files get
	the right owner on boot of the image.  LP: #652121.

2010-10-27  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:
	* linaro-media-create:

	Drop spurious single quote character in boot_args_options for beagle|igep;
	thanks Peter Maydell; LP: #667400.

2010-10-22  Jamie Bennett  <jb@canonical.com>

	* linaro-media-create:

	Add TI OMAP4 Panda support

2010-10-22  Jamie Bennett  <jb@canonical.com>

	* linaro-media-create:

	Consolidate code in create_boot_cmd() and fix serial port typo on Panda

2010-10-22  Jamie Bennett  <jb@canonical.com>

	* linaro-media-create:

	Add TI OMAP4 Pandaboard support

2010-10-19  matt.waddel@linaro.org

	* linaro-media-create:

	Fixed merge conflicts between Dave Martin's commit and my changes

2010-10-19  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~dave-martin-arm/linaro-image-tools/mx51evk-fixes.

2010-10-14  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Don't truncate the image file when installing U-Boot for mx51evk

2010-10-14  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Don't truncate the image file when installing U-Boot for mx51evk

2010-10-14  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fix mx51evk U-Boot installation to work with --image_file

2010-10-14  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fix mx51evk U-Boot installation to work with --image_file

2010-10-14  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Shawn Guo's fixes for mx51evk, as proposed on linaro-dev

2010-10-14  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Shawn Guo's fixes for mx51evk

2010-10-19  matt.waddel@linaro.org

	* linaro-media-create:

	Fixed typo in comment

2010-10-18  matt.waddel@linaro.org

	* linaro-media-create:

	Script style and comment corrections from Loic's review.

2010-10-18  matt.waddel@linaro.org

	* linaro-media-create:

	Combine create_boot_cmd() func into BOOTFS_STEP step.

2010-10-18  matt.waddel@linaro.org

	* linaro-media-create:

	Since the script isn't MMC/SD specific rename parts to usage:
	MMC1 -> BOOTFS
	MMC2 -> ROOTFS
	get_mmcs_by_id() -> get_device_by_id()

2010-10-18  matt.waddel@linaro.org

	* linaro-media-create:

	Added ability to not repartition device

2010-10-18  matt.waddel@linaro.org

	* linaro-media-create:

	Add the --no-rootfs and --no-bootfs options.  Refactored the deploy 
	actions so they can be run independently

2010-10-17  matt.waddel@linaro.org

	* linaro-media-create:

	Add the --no-rootfs and --no-bootfs options.  Refactored the deploy actions so they can be run independently

2010-10-17  matt.waddel@linaro.org

	* linaro-media-create:

	Remove unused MMC3 from get_mmcs_by_id()

2010-10-17  matt.waddel@linaro.org

	* linaro-media-create:

	Make check_mmc() a generic device scanner, switch name to check_device()

2010-10-15  Steve Langasek  <steve.langasek@linaro.org>

	* debian/changelog:

	Fix lookup of linaro-hwpack-install to work correctly when l-m-c is on
	the path.  Closes: #652669.

2010-10-15  Jamie Bennett  <jb@canonical.com>

	* linaro-media-create:

	Merge patch from Tom Gall to warn if no hwpack is specified

2010-10-13  Tom Gall  <tom.gall@linaro.org>

	* linaro-media-create:

	add warning for when --hwpack (HWPACK_FILE) isn't set

2010-10-14  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-install:

	Fix the logic of --install-latest to do the right thing.

2010-10-14  James Westby  <james.westby@linaro.org>

	* linaro-hwpack-install:

	Invert the --install-latest check so that it has the right meaning.

2010-10-13  matt.waddel@linaro.org

	* linaro-media-create:

	With the image alignment bug (lp:658511) fixed it's not required to have 
	a special boot.cmd script for the qemu image anymore.

2010-10-13  matt.waddel@linaro.org

	* linaro-media-create:

	Round the size of the raw disk image up to a multiple of 256K
	so it is an exact number of SD card erase blocks in length.
	Otherwise Linux under qemu cannot access the last part of the
	card and is likely to complain that the last partition on the
	disk has been truncated.

2010-10-12  Steve Langasek  <vorlon@debian.org>

	* linaro-media-create:

	merge

2010-10-12  Steve Langasek  <vorlon@debian.org>

	* linaro-media-create:

	drop the convoluted dirname handling, sh always gives us the full path in $0
	so dirname "$0" is always what we want on the path - thanks to Peter Maydell
	for noticing!

2010-10-10  Steve Langasek  <vorlon@debian.org>

	* linaro-media-create:

	fix a bug in how we look up linaro-hwpack-install when l-m-c is both on the
	path and in a bzr checkout

2010-10-09  Steve Langasek  <vorlon@debian.org>

	* linaro-media-create:

	if linaro-media-create is not on the path, add it there; then look for
	linaro-hwpack-install on the path

2010-10-11  matt.waddel@linaro.org

	* linaro-media-create:

	Removed the unnecessary gzip step at the end of the --image_file creation.

2010-10-11  matt.waddel@linaro.org

	* linaro-media-create:

	Remove the final gzip file creation step in an --image_file run

2010-10-08  Steve Langasek  <vorlon@debian.org>

	* rsync-root-fs:
	* linaro-media-create:

	revert revision 134 due to numerous issues; see
	https://code.launchpad.net/~tom-gall/linaro-image-tools/rsync-speedup/+merge/37791 for more information

2010-10-08  Steve Langasek  <vorlon@debian.org>

	* linaro-media-create:

	merge from Tom

2010-10-07  Tom Gall  <tom.gall@linaro.org>

	* linaro-media-create:

	adjust tar to use --numeric-owner for UID/GID when untaring 

2010-10-08  matt.waddel@linaro.org

	* linaro-hwpack-install:
	* linaro-media-create:

	Mostly adding Dave Martin and James Westby's quoting fixes.  Includes 
	fixes for one off errors in fdisk calculations and a parsing problem in 
	fdisk output.

2010-10-08  matt.waddel@linaro.org

	* linaro-media-create:

	Added 2 quoting suggestions from James Westby's review.

2010-10-08  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fix off-by-one-sector error determining partition sizes from fdisk output.
	
	fdisk lists start sector and end sector indices: the first sector
	not in a given partition is <end sector>+1.  Thus the correct sector count
	for the partition is <end sector>+1-<start sector>.

2010-10-08  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fix off-by-one-sector error determining partition sizes from fdisk output.
	
	fdisk lists start sector and end sector indices: the first sector
	not in a given partition is <end sector>+1.  Thus the correct sector count
	for the partition is <end sector>+1-<start sector>.

2010-10-08  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fixed misparse of fdisk output.
	
	When a partition has an odd number of sectors, the size field printed
	by fdisk is "<size in KiB>+", not "<size in KiB>".
	
	This causes a syntax error when the extracted field is pasted into
	an expression to evaluate.
	
	The fix is to subtract the start sector index from end end sector index
	(as is already done for the linux partition).

2010-10-08  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Fixed misparse of fdisk output.
	
	When a partition has an odd number of sectors, the size field printed
	by fdisk is "<size in KiB>+", not "<size in KiB>".
	
	This causes a syntax error when the extracted field is pasted into
	an expression to evaluate.
	
	The fix is to subtract the start sector index from end end sector index
	(as is already done for the linux partition).

2010-10-08  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Satisfy missing command dependency for qemu-img.

2010-10-08  Dave Martin  <dave.martin@linaro.org>

	* linaro-media-create:

	Satisfy missing command dependency for qemu-img.

2010-10-07  Dave Martin  <dave.martin@linaro.org>

	* linaro-hwpack-install:
	* linaro-media-create:

	Fix some more straightforward vulnerbilities regarding argument quoting.
	
	This is deliberately non-exhaustive, since misquoting is
	widespread in the script, and the user is expected to know what
	he/she is doing anyway.
	
	The fixes should work around some more probably cases where
	wget -x creates tarball paths with spaces in, for example.

2010-10-08  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	linaro-media-create: use correct boot and root devices for target device - fix regression from rev 133

2010-10-07  Jamie Bennett  <jb@canonical.com>

	* rsync-root-fs:
	* linaro-media-create:

	Merge speed-up patch from Tom Gall which does an rsync in the background

2010-10-06  Tom Gall  <tom.gall@linaro.org>

	* rsync-root-fs:
	* linaro-media-create:

	copy the rootfs in parallel with rsync

2010-10-06  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	add MMC_PART_OFFSET to fix part id for non-fs-data part layouts like mx51evk.
	In turn use MMC2 for root= cmdline opt and MMC1 for UBOOT_PART flash-kernel.conf value

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop non-FS data partition for everything but mx51evk since the builtin u-boot
	wont find the boot script otherwise.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Set LC_ALL=C when entering the chroot as it has no locales.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix fatload partition since non-FS data addition.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Unset swap related vars at the top.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Refactor some ugly grep usages into case statements.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Pass LC_ALL=C to commands of which we parse the possibly localized output.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Avoid repeating the kernel and initrd physical load addresses.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop "mmc init" since boot.cmd/.ini is loaded from the MMC by u-boot, and "mmc
	init" has necessarily been run already.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Add non-FS data partition and factor the mx51evk case in the general case.

2010-09-30  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Misc syntax tweaks.

2010-09-30  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	Add initial mx51evk support (by Shawn Guo)

2010-09-30  Shawn Guo  <shawn.gsc@gmail.com>

	* linaro-media-create:

	Address review comments

2010-09-29  Shawn Guo  <shawn.gsc@gmail.com>

	* linaro-media-create:

	Add --dev option imx51 support

2010-09-29  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	DEVIMAGE, not DEVNAME.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* .bzr-builddeb:
	* .bzr-builddeb/default.conf:
	* debian/python-hwpack.install:
	* setup.py:
	* debian/changelog:
	* debian/control:
	* debian/linaro-image-tools.install:
	* debian/rules:
	* linaro-media-create:

	Merge lp:~lool/linaro-image-tools/random-cleanups with
	lp:~lool/linaro-image-tools/linaro-image-tools; fix a conflict with r100,
	Steve Langasek's UBOOT_FLAVOR factorization.

2010-09-28  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	split out u-boot handling into common code

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	split out u-boot handling into common code, instead of using two completely
	different board-specific approaches

2010-09-28  James Westby  <james.westby@canonical.com>

	* .bzr-builddeb:
	* .bzr-builddeb/default.conf:
	* debian/python-hwpack.install:
	* setup.py:
	* debian/changelog:
	* debian/control:
	* debian/linaro-image-tools.install:
	* debian/rules:

	Include the hwpack tools in the package.

2010-09-28  James Westby  <james.westby@canonical.com>

	* debian/control:

	Add python-argparse to dependencies. Thanks Guilherme.

2010-09-24  James Westby  <james.westby@canonical.com>

	* .bzr-builddeb:
	* .bzr-builddeb/default.conf:
	* debian/python-hwpack.install:
	* setup.py:
	* debian/changelog:
	* debian/control:
	* debian/linaro-image-tools.install:
	* debian/rules:

	Package the hardware pack tools.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Quote uses of BOOT_DISK and ROOT_DISK.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop CODENAME and use "boot script" as the description of the boot script.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop broken test (DEVNAME instead of DEVIMAGE) and require uboot-mkimage
	unconditionally.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Require a valid DEVIMAGE before starting; this is required by populate_boot
	later anyway, so best to fail early and have a single copy of the user-visible
	error-messages.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Consistently check for vmlinuz-*-$flavor and initrd-*-$flavor and for linaro-
	in the flavor name.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix indentation of cat and exit in usage().

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop unreachable code.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix typo: paramater vs. parameter.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix indentation to 1 or 3 spaces to be 0 or 2 spaces.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Factorize the mkfs.extN checks and fix ext2 support.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop useless FS_TYPE var.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Refactor check_fs_type into a case statement.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fold "10.05" in constants at the top.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop all uses of "cd" since it's always to "${DIR}" and DIR is PWD anyway.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop "cd" before "sync" as sync is system-wide anyway.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Vexpress: fix missing sudo before cp-ing the bootloader.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Harmonize shell syntax across boards.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop incorrect "|| true" guard after mkdir -p; mkdir -p wont fail if the
	directory already exists, but only if it can't be created, which should fail
	this script.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Drop useless MLO and UBOOT vars; used only once.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Beagle: don't test for MLO and u-boot presence; just copy them unconditionally,
	it's a bug in the images if these are missing.  In theory, this might prevent
	writing older images if these files ever went missing, but these images are
	unsupported anyway.

2010-09-28  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Set MLO and UBOOT in beagle-specific section as these are specific to beagle.

2010-09-27  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Refactor linaro-media-create that we don't need extra unpack/repack steps when installing hwpacks.

2010-09-23  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Refactor l-m-c so that we don't need extra unpack/repack steps when installing hwpacks.

2010-09-24  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/config.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_packages.py:

	Include dependencies in hardware packs.

2010-09-24  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Tweaks from review. Thanks Guilherme.

2010-09-15  James Westby  <james.westby@canonical.com>

	* debian/changelog:
	* linaro-hwpack-install:
	* linaro-media-create:

	Merged obey-include-debs into include-dependencies.

2010-09-15  James Westby  <james.westby@canonical.com>

	* debian/changelog:
	* linaro-hwpack-install:
	* linaro-media-create:

	Merge trunk.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged obey-include-debs into include-dependencies.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged make-package-content-optional into obey-include-debs.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged set-installed-packages into make-package-content-optional.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged extra-text-in-packages-files into set-installed-packages.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged set-content-mtime into extra-text-in-packages-files.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged fix-package-regex into set-content-mtime.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Some improvements to PackageFetcher.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Thread Provides, Replaces and Breaks through to the Packages files.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged obey-include-debs into include-dependencies.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:

	Actually exclude the packages from the hardware pack.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Add assume-installed to the configuration.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Simplify the implementation of fetch_packages.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Further improvements to fetch_packages.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Merge obey-include-debs into include-dependencies.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Merge obey-include-debs into include-dependencies.

2010-09-13  James Westby  <james.westby@canonical.com>

	Merged set-installed-packages into include-dependencies.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:

	Merged extra-text-in-packages-files into include-dependencies.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged extra-text-in-packages-files into include-dependencies.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Document ignore_packages.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Document and test set_installed_packages.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Test and document extra_text.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Drop the underscore from the parameter.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Ensure we get an error if we can't install an ignored package.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Ensure an error is raised if we ask to ignore an unknown package.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Test that we ignore dependencies too.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow ignoring packages in the PackageFetcher.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Merged fix-package-regex into include-dependencies.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Allow apt to parallelise the download

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Download all the dependencies of the target packages too.

2010-09-23  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	This branch removes some unneeded code which was getting in the way of the
	refactoring I want to do. It also uses some constants to avoid repetition and
	make some things more obvious

2010-09-23  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Fix some places in l-m-c that were using ROOT_DIR when they meant ROOT_DISC and some changes suggested by Peter Maydell

2010-09-21  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	First round of refactoring: use constants for a couple things and remove some unneeded code

2010-09-21  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	When installing an hwpack as part of linaro-media-create, make sure we unmount the chroot's /proc before trying to remove it.

2010-09-20  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Re-add a sudo I accidentally removed

2010-09-20  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	When installing an hwpack as part of linaro-media-create, make sure we unmount the chroot's /proc before trying to remove it.

2010-09-20  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Ignore empty/commented lines when comparing a hwpack's apt sources with the system ones

2010-09-20  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Ignore empty/commented lines when comparing a hwpack's apt sources with the system ones

2010-09-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Change linaro-hwpack-install to only install the sources.list.d files that have at least one line not present in the existing apt sources

2010-09-16  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Make sure we don't add duplicate apt sources when installing a hardware pack

2010-09-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Add a --hwpack argument to linaro-media-create, which is then installed (using linaro-hwpack-install) before the image is generated.

2010-09-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Make sure the temp dir is used to store things copied from the tarball when installing hwpacks

2010-09-17  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Make sure the temp directory is removed when the script exits, plus a few minor tweaks

2010-09-16  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Fix a bug that was causing the newly generated tarball to have a './' prefix in all paths

2010-09-16  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Add a new --hwpack argument to linaro-media-create

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* debian/changelog:
	* linaro-media-create:

	add sudo to a couple more commands in linaro-media-create, so the script
	itself can run as non-root as intended.

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* debian/changelog:
	* linaro-media-create:

	only enforce the presence of commands we're actually using; this lets
	us automatically pull in btrfs-tools when btrfs is specified.

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	more shuffling; a handful of argument handling options require external commands

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	make sure we unpack uboot and x-loader in time to use them for the boot
	partition

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	shuffle the file around so we can be more selective with ensure_command after
	argument parsing

2010-09-15  Steve Langasek  <steve.langasek@canonical.com>

	* debian/changelog:
	* linaro-media-create:

	fix the paths used for looking up x-loader and u-boot binaries in the
	tarball; these don't belong in /boot at all, pull them from /usr/lib.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tests/test_builder.py:
	* hwpack/tests/test_packages.py:

	Obey the include-debs setting in the config file, if any.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged make-package-content-optional into obey-include-debs.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Use a parameter rather than a separate method.
	
	The two are so close that we don't need two methods, and can just share most
	of the code.

2010-09-13  James Westby  <james.westby@canonical.com>

	Merged make-package-content-optional into obey-include-debs.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/testing.py:
	* hwpack/tests/test_builder.py:

	Have the HardwarePackBuilder obey the include-debs config setting.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Add a method to not fetch the content, just get the versions.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Also remove the .debs we have no content for from the Packages file.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	Leave out debs that we don't have content for.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Make the content of the FetchedPackage optional.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Make knowing the content of a package optional.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Remove set_content as it is not needed.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Make FetchedPackage.content optional.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow setting the installed packages in IsolatedAptCache.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged extra-text-in-packages-files into set-installed-packages.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow setting the installed packages seen by an IsolatedAptCache.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow arbitrary extra text in each stanza of the Packages file.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged set-content-mtime into extra-text-in-packages-files.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:

	Merged set-content-mtime into extra-text-in-packages-files.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged set-content-mtime into extra-text-in-packages-files.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow specifying extra text for each stanza in a Packages file.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Set the creation time on the contents of the hwpack tarball.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged fix-package-regex into set-content-mtime.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:

	Simplify mtime_skew handling. Thanks Zygmunt.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged fix-package-regex into set-content-mtime.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:

	Set the mtime of all the files in the hwpack.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow specifying a skew for the mtime for TarfileHasFile.

2010-09-15  James Westby  <james.westby@canonical.com>

	* debian/changelog:
	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Fix the package name regex to properly match "-" in names.

2010-09-15  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Use a raw string for the regex, thanks Michael.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged add-other-relations-to-packages-file into fix-package-regex.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Specify a literal "-" in the regex. Thanks Zygmunt.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Merged add-other-relations-to-packages-file into fix-package-regex.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Fix the package and hwpack name regex.

2010-09-15  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Standardize indentation of linaro-media-create

2010-09-15  Guilherme Salgado  <salgado@canonical.com>

	* debian/changelog:
	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* linaro-media-create:

	merge trunk

2010-09-15  Guilherme Salgado  <salgado@canonical.com>

	* linaro-media-create:

	Standardize indentation of linaro-media-create

2010-09-14  Steve Langasek  <steve.langasek@canonical.com>

	* debian/changelog:

	changelog entry

2010-09-14  Steve Langasek  <steve.langasek@canonical.com>

	* linaro-media-create:

	no longer using the 'omap' uboot flavor support in live-helper; instead, run
	the mkimage commands directly for omap

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Add Pre-Depends, Conflicts and Recommends to the generated Packages file.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Add __ne__ and remove __hash__ from the Mismatches. Thanks Zygmunt.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Define __ne__ and remove __hash__ on FetchedPackage. Thanks Zygmunt.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Merged add-relations-to-packages-file into add-other-relations-to-packages-file.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Merge add-relations-to-packages-file into add-other-relations-to-packages-file.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Move stringify_relationship to be a top-level function and test it.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Add a test that PackageFetcher fills in the relationships.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Have from_apt translate the other relationships too.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Put the relationships in the Packages file.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Allow specifying other relationships in FetchedPackage.

2010-09-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Make sure the packages contained in the hwpack take precedence over the ones coming from other sources. Also fixes handling of the --install-latest argument.

2010-09-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Make sure the packages contained in the hwpack take precedence over the ones coming from other sources.  Also fixes handling of the --install-latest argument.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Add the dependencies of the package to the generated Packages file.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Merged split-package-fetcher into add-relations-to-packages-file.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Add a docstring to from_apt. Thanks Zygmunt.

2010-09-10  James Westby  <james.westby@canonical.com>

	Merge split-package-fetcher into add-relations-to-packages-file.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Add a from_apt method that knows how to translate dependencies.
	
	This goes from an apt.package.Version to a FetchedPackage, translating
	dependencies from the object representation apt uses to the string
	representation that we want.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow specifying the dependencies of a package in the constructor.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Pull IsolatedAptCache in to it's own class so that tests can use it.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Include Depends in the Packages file we generate.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Split IsolatedAptCache from PackageFetcher to make it reusable.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Merged add-dot-list-to-filenames into split-package-fetcher.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Split out an IsolatedAptCache class which can be used by other code.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	Append .list to the sources.list.d filenames.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Merged add-script into add-dot-list-to-filenames.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:

	Ensure that sources files have .list extension.

2010-09-14  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:
	* hwpack/tests/__init__.py:

	Add a linaro-hwpack-create script.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Use argparse. Thanks Zygmunt.

2010-09-10  James Westby  <james.westby@canonical.com>

	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/rules:
	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-media-create:

	Merged hwpack-builder into add-script.

2010-09-10  James Westby  <james.westby@canonical.com>

	Merged hwpack-builder into add-script.

2010-09-10  James Westby  <james.westby@canonical.com>

	Merged hwpack-builder into add-script.

2010-09-03  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:

	Merged hwpack-builder into add-script.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Merged hwpack-builder into add-script.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Check the passed arguments before trying to use them.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:

	Have the missing config file exception printed nicely.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:

	Merged hwpack-builder into add-script.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_script.py:
	* linaro-hwpack-create:
	* hwpack/tests/__init__.py:

	Add a rudimentary script to allow creating hwpacks.

2010-09-14  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Add linaro-hwpack-install, which unpacks an hwpack and install the packages in it.

2010-09-14  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	merge trunk

2010-09-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Make sure the loops to add sources.list.d entries and gpg keys don't fail when there's no sources.list.d entries or gpg keys

2010-09-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Change parsing of the manifest file in linaro-hwpack-install as it now uses an equal sign to separate packages from their version

2010-09-13  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Use mktemp as suggested by James

2010-09-13  Guilherme Salgado  <salgado@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:
	* debian/changelog:
	* debian/control:
	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-media-create:

	merge trunk

2010-09-08  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Drop a couple things that are not really needed and clean other things up

2010-09-06  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	A few extra improvements

2010-09-06  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	Use a trap to cleanup things in linaro-hwpack-install and a few other improvements

2010-09-06  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	A few more improvements

2010-09-03  Guilherme Salgado  <salgado@canonical.com>

	* linaro-hwpack-install:

	checkpoint commit

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_hardwarepack.py:

	Add a HardwarePackBuilder class to orchestrate their construction.

2010-09-10  James Westby  <james.westby@canonical.com>

	Merged package-fetcher-config-manager into hwpack-builder.

2010-09-10  James Westby  <james.westby@canonical.com>

	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/rules:
	* hwpack/hardwarepack.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-media-create:

	Merge trunk.

2010-09-10  James Westby  <james.westby@canonical.com>

	Merged package-fetcher-config-manager into hwpack-builder.

2010-09-10  James Westby  <james.westby@canonical.com>

	Merged architecture-in-filename into hwpack-builder.

2010-09-03  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:

	Use add_apt_sources instead of the old add_sources. Thanks Guilherme.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Merged metadata-from-config into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:

	Raise a specific exception if the config file is not there.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_builder.py:

	Clean up some repeated hardcoding in a test.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/builder.py:
	* hwpack/tests/test_builder.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_hardwarepack.py:

	Add a builder class that puts the pieces together.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Include the architecture in the filename.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Add a simple test that PackageFetcher is a context manager.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:

	Merged metadata-from-config into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged metadata-from-config into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	Merged metadata-from-config into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	Merged architectures-from-config into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	Merge architectures-from-config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_hardwarepack.py:

	Specify the version external to the config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Merged architecture-support into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Merged architecture-support into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Merged architecture-support into hwpack-builder.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_hardwarepack.py:

	Add a test for the new Metadata.from_config constructor.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Process the architectures property.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Ensure that architectures is specified in the config file.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_config.py:

	Add a sources property to config to get that information.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Filter duplicate package names in the configuration.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow PackageFetcher to be used as a context manager.

2010-09-10  James Westby  <james.westby@canonical.com>

	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/rules:
	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:
	* linaro-media-create:

	Merge trunk.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Allow the PackageFetcher to be used as a context manager.
	
	It has a lifecycle, so this is the easiest way to deal with that.

2010-09-13  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Put the architecture in the hwpack filename.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Put the architecture in the hwpack filename.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Allow creating Metadata objects from Config objects, with some extra info.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Merged architectures-from-config into metadata-from-config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:

	Add a docstring for from_config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged architectures-from-config into metadata-from-config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Add a method to create a Metadata from a Config.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_config.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Allow specifying the architectures to build for in the config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Merged architecture-support into architectures-from-config.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Merge add-packages-to-hwpack in to architecture-support.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Add a docstring for the sources property.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Also add a property for getting the sources info.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Add architectures to the configuration file.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Use the new name of AptSourceFixture.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Merged add-packages-to-hwpack into architecture-support.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Merge add-packages-to-hwpack.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Add Architecture to Metadata.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Add a way to specify the architecture to the fetcher.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Put the architecture in the indices.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Add architecture to our package classes.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Add support for adding packages to the generate hwpack.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Have the manifest use "=" rather than " " to split package and version.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Use textwrap to avoid a multiline string breaking formatting.
	
	Thanks Guilherme.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_hardwarepack.py:

	Correct another typo. Thanks Guilherme.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Fix typos. Thanks Guilherme.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Avoid a double join by storing strings not tuples.
	
	Thanks Guilherme.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Rename add_sources to add_apt_sources and update the docstring.
	
	Thanks Guilherme.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Add a docstring to get_packages_file.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Merge fetch-packges.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/tests/test_packages.py:

	Rename FetchedPackageFixture to DummyFetchedPackage as it isn't a fixture

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Write a correct Packages file.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Use the __eq__ method to get better checking in the tests.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Add __eq__ to FetchedPackage.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Make the generation of a rudimentary Packages file usable by application code

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Add the packages to the manifest too.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Put the packges in the hardware pack.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Consolidate the two Package implementations somewhat.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Merged fetch-packages into add-packages-to-hwpack.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:

	Add a docstring.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Add sources to the hwpack.

2010-09-10  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:
	* hwpack/testing.py:
	* hwpack/tests/__init__.py:

	Add code to fetch packages to put in the hwpack.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Tweak docstrings in hwpack.packages. Thanks Michael.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Add more documentation to testing.py and rename AptSource to AptSourceFixture

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Make Package in to DummyFetchedPackage to share an interface.

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:

	Add some documentation for the Package object.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Use a class as the return value such that we can return name, version and filename.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Merged create-hwpack-skeleton into fetch-packages.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Remove the unneeded ugly code.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:

	Use apt rather than bzrlib, with our own method to avoid the stdout output.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Create TestCaseWithFixtures.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tests/test_packages.py:

	Move the helpers to testing.py.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Add some tests for cleanup/prepare.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:

	Add some tests and docstrings.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Test that the newer package is taken regardless of the source.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Test that the newest is fetched.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_packages.py:

	Some more simple tests for PackageFetcher.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/packages.py:
	* hwpack/tests/test_packages.py:
	* hwpack/tests/__init__.py:

	Implement basic package fetching support.

2010-09-07  Matt Domsch  <Matt_Domsch@dell.com>

	* linaro-media-create:

	Quote uses of $device as required for some weirdly named /dev/disk/by-id/*
	devices; thanks Matt Domsch.

2010-09-07  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Release 0.2

2010-09-07  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Document hwpack changes by James Westby:
	* Add a module that provides some improvements to tarfile.
	* Add some matchers for testing the content of tarfiles.
	* Add the skeleton code to create empty hardware packs.

2010-09-07  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:
	* debian/control:

	Fix deps in control as well: depend on uuid-runtime rather than
	uuidgen-runtime and do not depend on util-linux, e2fsprogs and coreutils
	as these are Essential: yes; thanks Colin Watson.

2010-09-05  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Close LP: #627611.

2010-09-05  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Add changelog entry for IGEP support.

2010-09-05  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~lnxtorez/linaro-image-tools/igep-support and fixup indentation and
	tests' syntax.

2010-09-04  Torez Smith  <torez.smith@linaro.org>

	* linaro-media-create:

	updated format and igep board support

2010-09-03  Torez Smith  <torez.smith@linaro.org>

	* linaro-media-create:

	support for igep board

2010-09-02  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:
	* hwpack/config.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_config.py:

	Add the skeleton code to create empty hardware packs.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_hardwarepack.py:

	Use a subclass of the matcher, rather than a custom assertion method.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:

	Add a TODO, thanks Guilherme.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Rename to_f to to_file, thanks Guilherme.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Merged config-changes into create-hwpack-skeleton.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Add a packages property to get the list of packages.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Packages are global rather than per-archive now.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged config-changes into create-hwpack-skeleton.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:

	Add docstrings.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hardwarepack.py:

	Extract out a Metadata object to make testing easier.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tests/__init__.py:
	* hwpack/hwpack.py:
	* hwpack/hardwarepack.py:
	* hwpack/tests/test_hwpack.py:
	* hwpack/tests/test_hardwarepack.py:

	Set the defaults for created files.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_hwpack.py:

	Use the matchers in the tests.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_better_tarfile.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_better_tarfile.py:

	Merge tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Merged tarfile-matchers into create-hwpack-skeleton.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/config.py:
	* hwpack/tests/__init__.py:

	Merge tarfile-matchers.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Add the sources list dirs.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Create a Packages file.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Create an empty manifest file.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Generate the full metadata file.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Basic metadata file creation.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Start the support for generating tarballs.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:

	Add a filename method.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/hwpack.py:
	* hwpack/tests/test_hwpack.py:
	* hwpack/tests/__init__.py:

	Test basic attributes of HardwarePack.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/testing.py:
	* hwpack/tests/test_tarfile_matchers.py:
	* hwpack/tests/__init__.py:

	Add some matchers for testing the content of tarfiles.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_tarfile_matchers.py:

	Also test the values set on TarfileMissingPathMismatch.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_tarfile_matchers.py:

	Take advantage of the new __eq__ when checking TarfileWrongValueMismatch.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Add __eq__ and __hash__ on the mismatches.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/testing.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Reduce duplication in the tests. Thanks Michael.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_better_tarfile.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:

	Add some documentation.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow checking content in the matcher.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow testing the uname and gname in the matcher.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow testing the uid and gid in the matcher.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow testing the linkname in the matcher.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow testing the mode in the matcher.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allow checking the mtime of a path.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Allowing checking the size in the matcher.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tarfile_matchers.py:
	* hwpack/tests/test_tarfile_matchers.py:

	Simple tarfile matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Merged tarfile-improvements into tarfile-matchers.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tests/__init__.py:

	Merge better-tarfile.

2010-09-01  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/tests/__init__.py:

	Add a module that provides some improvements to tarfile.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged config-docs into tarfile-improvements.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Less magic in the tests. Thanks Michael.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Add a module docstring to better_tarfile. Thanks Michael.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Use dict.pop instead of the custom implementation. Thanks Michael.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_better_tarfile.py:

	Factor out some common code in the tests.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged config-docs into tarfile-improvements.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:

	Add documentation.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Move the helper context managers out of the test code.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Use the defaults for directories too.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Tests for the standard attributes.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Call the methods create_* rather than add_*.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Allow creating directories.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Add default gname support

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Add default uname support.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Add default uid.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Allow specifying the default mtime for files.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Merged config-docs into tarfile-improvements.

2010-08-28  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_better_tarfile.py:

	Test that linkname is set correctly.

2010-08-28  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_better_tarfile.py:

	Test that the type is set correctly.

2010-08-28  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_better_tarfile.py:

	Test that the mode is set correctly.

2010-08-28  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:

	Actually add the content.

2010-08-28  James Westby  <james.westby@canonical.com>

	* hwpack/better_tarfile.py:
	* hwpack/tests/test_better_tarfile.py:
	* hwpack/tests/__init__.py:

	Basics of a better tarfile wrapper.

2010-09-01  Lo√Øc Minier  <lool@dooz.org>

	* debian/changelog:

	Release 0.1

2010-09-01  Lo√Øc Minier  <lool@dooz.org>

	* debian/copyright:
	* linaro-media-create:

	Copyright 2010 Robert Nelson <robertcnelson@gmail.com>

2010-09-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Remove useless DISK_NAME var altogether

2010-09-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Don't test for German translation in sfdisk output; instead, run sfdisk with
	LC_ALL=C.

2010-09-01  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~mwaddel/linaro-image-tools/vexpress-uInitrd-v2

2010-08-31  matt.waddel@linaro.org

	* linaro-media-create:

	Adds copy stage of uInitrd to the SD card for vexpress. Incorporates 
	Loic's review feedback.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix whitespaces

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix package for uuidgen (uuid-runtime)

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* debian/control:

	Add proper depends

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* debian:
	* debian/changelog:
	* debian/compat:
	* debian/control:
	* debian/copyright:
	* debian/linaro-image-tools.install:
	* debian/rules:

	Add initial packaging

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Fix copyright/licensing header to state Copyright Linaro and GPLv3 as the
	license.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~mwaddel/linaro-image-tools/vexpress-vfat-partition-fix and add a
	comment before the change.

2010-08-30  matt.waddel@linaro.org

	* linaro-media-create:

	Set the default vfat partition type to 16 for the Versatile Express
	platform.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Kill insecure /tmp/rebuild_uinitrd.sh creation and the /rebuild_uinitrd.sh
	clutter, this should be shipped in a package if that's still useful, but really
	flash-kernel should refresh the uInitrd.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Don't copy over a vmlinuz into the boot partition (NB: NOT /boot) and use
	"uImage" instead of "uImage.vxp".

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Use regular "u-boot.bin" path instead of ubootca9.bin and save one cp.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Use POSIX function declarations rather than function keyword.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Simplify tar calls, relying on the fact that tar will guess that archives are
	compressed depending on their extensions.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Use sudo for mkimage in the vexpress case too.

2010-08-31  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~mwaddel/linaro-image-tools/vexpress-copy-u-boot

2010-08-30  matt.waddel@linaro.org

	* linaro-media-create:

	Pull u-boot from the /usr/lib/u-boot/ca9x4_ct_vxp/ directory and put it
	in the vfat boot partition.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Add docstrings to the config module and reduce code duplication.

2010-08-31  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Add a docstring to _get_main_option and change the name. Thanks Michael.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Consolidate more code in to the common method.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Add docstrings for the config properties. Thanks Michael.

2010-08-30  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Use a helper method to reduce duplicated code. Thanks Michael.

2010-08-30  Alexander Sack  <asac@linaro.org>

	* .bzrignore:
	* .testr.conf:
	* hwpack:
	* hwpack/__init__.py:
	* hwpack/config.py:
	* hwpack/tests:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_config.py:

	merge lp:~james-w/linaro-image-tools/hwpack-create-config
	- skeleton of the hwpack module with tests (by James Westby <james.westby@linaro.org>)
	- see https://wiki.linaro.org/Platform/UserPlatforms/Specs/10.11/HardwarePacks#hwpack-create

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_config.py:

	Use a helper assertion to reduce code duplication.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_config.py:

	Use a method to avoid hardcoding StringIO everywhere.

2010-08-27  James Westby  <james.westby@canonical.com>

	* .bzrignore:
	* .testr.conf:

	Add a .testr.conf for the project.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/tests/__init__.py:

	Add a testsuite function to run the tests.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Support property.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	maintainer property.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Origin property.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Basic properties for the main values.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/tests/test_config.py:

	Test that validate allows a valid configuration.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Small refactoring.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Further validation of the packages value.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Validation of the packages value.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Futher validation of the source-entry value.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Check the sources-entry of each section.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Validate support and that there is more than one section.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:

	Use several methods.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Test the value of the include-debs key.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack/config.py:
	* hwpack/tests/test_config.py:

	Check the name in the config against the rules.

2010-08-27  James Westby  <james.westby@canonical.com>

	* hwpack:
	* hwpack/__init__.py:
	* hwpack/config.py:
	* hwpack/tests:
	* hwpack/tests/__init__.py:
	* hwpack/tests/test_config.py:

	Basics of the hwpack.config module.

2010-08-29  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	linaro-media-create: don't mount our vfat partition as /boot; we have flash-kernel + UBOOT_PART magic for that

2010-08-29  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	linaro-media-create: bump requirements to FAT_SIZE=32 by default

2010-08-29  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	merge lp:~tom-gall/linaro-image-tools/linaro-media-create to fix lp:622979

2010-08-27  Tom Gall  <tom.gall@linaro.org>

	* linaro-media-create:

	Fix to add fstab entries for rootfs and boot

2010-08-27  Tom Gall  <tom.gall@linaro.org>

	* linaro-media-create:

	Fix to respect FAT_SIZE and not to use sfdisk for MMC targets - lp:NUMBER

2010-08-24  Lo√Øc Minier  <lool@dooz.org>

	* linaro-media-create:

	Merge lp:~mwaddel/linaro-image-tools/vexpress-additions-v3 and fix uInitrd
	handling for vexpress.

2010-08-23  matt.waddel@linaro.org

	* linaro-media-create:

	Add vexpress image creation option
	
	Added the Versatile Express platform to the list of images that can be
	created by this script.

2010-08-23  matt.waddel@linaro.org

	* linaro-media-create:

	Refactored for adding new boards
	
	Rearrange the boot and rootfs creation so it will be possible to easily
	add a new platform.  After this change the --dev parameter will be
	required.

2010-08-20  Scott Bambrough  <scott.bambrough@linaro.org>

	* linaro-hwpack-install:

	Empty hardware pack install script.

2010-08-20  Scott Bambrough  <scott.bambrough@linaro.org>

	* linaro-hwpack-install:

	New file.  Bare bones.

2010-08-05  John Rigby  <john.rigby@canonical.com>

	* linaro-media-create:

	Create /etc/flash-kernel.conf so flash-kernel works

2010-07-02  John Rigby  <john.rigby@canonical.com>

	* linaro-media-create:

	use sfdisk for partition images and devices
	
	the previous fdisk solution failed on some platforms:
	fdisk prompts differently on different devices
	so the commands sent to fdisk via the HEREDOC in the
	script were not always correct
	
	use sfdisk for images and device partitioning fixes this
	because the HEREDOC lines are single lines per partition instead
	of long multiline sequences

2010-07-02  John Rigby  <john.rigby@canonical.com>

	* linaro-media-create:

	split setup_image into two functions
	
	factor size calculation in setup_image into
	new function called setup_sizes
	
	call setup_sizes for both images and devices
	only call setup_image for images
	
	use sizes set in setup_sizes in create_partitions_mmc instead
	of hard coded constants

2010-07-01  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	remove binary/ tree from workdir after done to avoid pollution

2010-07-01  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	only extract binary/${parts_dir} in prepare_sources to get the boot bits

2010-07-01  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	drop the --chessy flag - we always use this code path

2010-07-01  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	(merge lp:~mwaddel/linaro-image-tools/binary-tar-support)
	* support Linaro-M image format (tarball only)
	* add --binary <filename> option to select a tarball

2010-07-01  mwaddel@ubuntu.com

	* linaro-media-create:

	Addes the binary file selection option

2010-07-01  Alexander Sack  <asac@linaro.org>

	* linaro-media-create:

	create SWAP file in / rather than /mnt

2010-06-30  mwaddel@ubuntu.com

	* linaro-media-create:

	Add file compression and fix swap size calculation

2010-06-18  Alexander Sack  <asac@ubuntu.com>

	* linaro-media-create:

	(merge) Add support for qemu-baegle images - by Matt Waddel

2010-06-18  matt.waddel@ubuntu.com

	* linaro-media-create:

	Added an image creation capability for use with qemu

2010-06-14  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:
	* linaro-media-create:

	* rename setup_sdcard to linaro-media-create

2010-06-03  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	do not require mkfs.reiserfs

2010-06-01  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	merge lp:~zkrynicki/+junk/setup-sdcard
	+ ensure that command required are installed

2010-06-01  Zygmunt Krynicki  <zygmunt.krynicki@canonical.com>

	* setup_sdcard.sh:

	Added checks for missing commands

2010-06-01  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	add splash and quiet for non-dev live images

2010-05-31  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	hide error messages if binary-tar.tar.lzma does not exist

2010-05-31  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	add nocompcache to boot.cmd

2010-05-31  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	* make setup_sdcard.sh executable

2010-05-24  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	* introduce --live-256m option for low-mem systems
	* add -dev option that aut sets serial console ports
	* add --console option to explicitly add consoles to boot options

2010-05-21  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	add copyright, license info and fix comment indent

2010-05-21  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	* install all boot parts from proper directory (casper, boot)
	* support lzma as well as gz compressed binary-tar tarballs
	* use boot=casper for IS_LIVE and root=UUID=... for not IS_LIVE

2010-05-20  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	support new boot parts (including uimage and uninitrd
	add --live parameter to set the boot=casper boot option

2010-05-20  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	parse mmc ids before cleaning up sdcard, which requires details for unmounting

2010-05-19  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	* swap gets holes when using seek for dd'ing swap file

2010-05-19  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	allow CODENAME to be dynamic for uImage name; make swap image creation fast using dd seek and add fixrtc to bootargs
	for beagle without rtc battery

2010-05-18  Alexander Sack  <asac@ubuntu.com>

	* setup_sdcard.sh:

	don't rely on device node syntax, but detect the device parts through /dev/disk; in turn
	split create_partitions (partition) and prepare_partitions (add files to boot and rootf)

2010-05-07  Jamie Bennett  <jb@canonical.com>

	* setup_sdcard.sh:

	Remove download support and use local u-boot and x-loader files instead

2010-05-07  Jamie Bennett  <jb@canonical.com>

	* setup_sdcard.sh:

	Remove x-loader support, its not needed

2010-05-05  John Rigby  <john.rigby@canonical.com

	* setup_sdcard.sh:

	Initial checking with Jamie Bennet's additions

